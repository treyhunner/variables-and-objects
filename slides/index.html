<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Variables and Objects</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/truthful.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/github.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

      <section>

        <section data-background="#ffffff" data-background-transition="zoom" data-transition="zoom" data-transition-speed="fast">
          <h1>Variables and Objects</h1>
          <h2>It's pointers all the way down</h2>
          <h3>
          <small><a href="https://treyhunner.com/" rel="author">Trey Hunner</a></small>
          </h3>
          <aside class="notes" data-markdown>
            - ...
            - A *very* brief introduction before I get started
            - My name is Trey
          </aside>
        </section>

        <section>
          <div class="aboutme-card">
            <a href="http://pythonmorsels.com"><img src="morsels-logo.svg" class="no-style aboutme-logos" alt="Python Morsels"></a>
          </div>
          <div class="aboutme-card">
            <a href="http://truthful.technology"><img src="truthful-technology-logo.svg" class="no-style aboutme-logos" alt="Truthful Technology"></a>
          </div>
          <p>trey @ Python Morsels .com</p>
          <aside class="notes" data-markdown>
            - And I help folks **level-up** their Python skills
            - I do that through Python Morsels, which involves deepening your skills by solving interesting practical Python exercises
            - and I also hold team trainings on both introductory and advanced Python topics, as well as related technologies like Pytest and Django
            - If you would like my help leveling up your or your team's Python skills, contact me
            - ...
          </aside>
        </section>

      </section>
      <section>
        <!-- section: intro problems -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1>Mental Models</h1>
          <h1 class="fragment">Gotchas</h1>
          <aside class="notes" data-markdown>
            - TODO A mental model is ...
            - When your mental model of Python differs from how Python actually works, you're likely to run into gotchas
            - We're going to start with a few potential Python gotchas that will *hopefully* make sense by the end of this talk
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape>
>>> def square_all(numbers):
...     for i, n in enumerate(numbers):
...         numbers[i] = n ** 2
...     return numbers
...
>>> <span class="fragment">numbers = [2, 1, 3, 4, 7]
>>> </span><span class="fragment">square_all(numbers)
</span><span class="fragment">[4, 1, 9, 16, 49]
>>> </span><span class="fragment">numbers
</span><span class="fragment">[4, 1, 9, 16, 49]</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Let's say we write a function to square all numbers in a list
            - If we make a list of numbers **(CLICK)**
            - And we call the `square_all` function with this list **(CLICK)**
            - It will return **(CLICK)** the squares of all the given numbers
            - That's what we expect...
            - But... the original list **(CLICK)**
            - Was *also* **(CLICK)** modified.
            - Which might upset a caller of this function
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment">colors = ["purple", "blue", "green"]
>>> </span><span class="fragment">groups = dict.fromkeys(colors, [])
>>> </span><span class="fragment">groups
{'purple': [], 'blue': [], 'green': []}
>>> </span><span class="fragment">groups["purple"].append("duck")
>>> </span><span class="fragment">groups["purple"]
['duck']
>>> </span><span class="fragment">groups
{'purple': ['duck'], 'blue': ['duck'], 'green': ['duck']}</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Let's say we have a list of colors **(CLICK)** that we'd like to be keys in a dictionary **(CLICK)**
            - So we use the dictionary `fromkeys` class method **(CLICK)** to create a dictionary of lists **(CLICK)**
            - If we add the string `duck` to one of these lists **(CLICK)**
            - That list will now have **(CLICK)** one item in it
            - But... **(CLICK)** so will every other list in this dictionary
            - We tried to change *one* list but all of them changed
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment">matrix = [[0] * 3] * 3
>>> </span><span class="fragment">matrix
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> </span><span class="fragment">matrix[1][1] = 1
>>> </span><span class="fragment">matrix
[[0, 1, 0], [0, 1, 0], [0, 1, 0]]</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Let's say we use nested self-concatenation to make a list-of-lists **(CLICK)**
            - We multiple a list with a `0` by 3 and put that in a list that we also multiply 3 and we end up **(CLICK)** with a list of 3 lists each containing 3 0's
            - If we assign the number 1 **(CLICK)** to index 1 of the of the list that's at index 1, we'll change the middle element of the middle list
            - Well... **(CLICK)** sort of
            - We actually end up changing all 3 of those inner lists
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment">class TodoList:
...     def __init__(self, tasks=[]):
...         self.tasks = tasks
...
>>> </span><span class="fragment">mon = TodoList()
>>> tue = TodoList()
>>> </span><span class="fragment">mon.tasks.append("Work on talk")
>>> </span><span class="fragment">tue.tasks</span><span class="fragment">
['Work on talk']</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Let's say we make `TodoList` class with an initializer method that accepts an optional `tasks` list **(CLICK)**
            - The given `tasks` list is stored as a `tasks` attribute on each new `TodoList` object
            - If we create two new `TodoList` objects **(CLICK)**
            - And we append a new task to the `tasks` attribute **(CLICK)** of the first object
            - The second object's `tasks` attribute **(CLICK)** will *also* change **(CLICK)**
            - We changed *one* of our `tasks` lists but *both* lists changed
          </aside>
        </section>

        <section>
          <h4 class="fragment" data-fragment-index=8>Changing <code>first</code> doesn't always change <code>second</code></h4>
          <div style="display: grid; grid-auto-flow: column;">
            <div>
              <pre class="python"><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> <span class="fragment" data-fragment-index=1>first = [2, 3]
>>> </span><span class="fragment" data-fragment-index=2>second = first
>>> </span><span class="fragment" data-fragment-index=3>first.append(5)
>>> </span><span class="fragment" data-fragment-index=4>second
[2, 3, 5]</span>
              </code></pre>
            </div>
            <div>
              <pre class="python fragment" data-fragment-index=5><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> first = [2, 3]
>>> second = first
>>> <span class="fragment" data-fragment-index=6>first = [2, 3, 5]
>>> </span><span class="fragment" data-fragment-index=7>second
[2, 3]</span>
              </code></pre>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - If we make a `first` list **(first)** and assign `second` to `first` **(click)**
            - When we change `first`, by appending to it **(CLICK)**
            - `second` also changes **(CLICK)**
            - But if instead... **(CLICK)**
            - we had changed `first` by assigning to it **(CLICK)**
            - `second` doesn't change **(CLICK)**
            - **(CLICK)** changing first doesn't always change second
          </aside>
        </section>

        <section>
          <h1 class="fragment" style="margin-top: -1em;">Gotchas</h1>
          <ol style="font-size: 0.7em; list-style: none; counter-reset: item; padding-left: 0;">
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.5em; line-height: 1;">1.</strong> <code>second = first</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.5em; line-height: 1;">2.</strong> <code style="white-space: pre;">for i, n in enumerate(numbers):
    numbers[i] = n ** 2</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.5em; line-height: 1;">3.</strong> <code>groups = dict.fromkeys(colors, [])</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.5em; line-height: 1;">4.</strong> <code>matrix = [[0] * 3] * 3</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.5em; line-height: 1;">5.</strong> <code style="white-space: pre;">def __init__(self, tasks=[]):
    self.tasks = tasks</code></li>
          </ol>
          <aside class="notes" data-markdown>
            - My goal in this talk is to clarify
            - Why these 5 bits of code **(CLICK)** are "gotchas"
            - We'll do this, by considering the **mental models** that we use for variables and objects in Python
          </aside>
        </section>

      </section>
      <section>
        <!-- section: Python mental models -->
        <!-- SECTION TIME: 3 minutes -->

        <section>
          <h2 class="fragment" data-fragment-index=1>Buckets</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=2>first = []
>>> </span><span class="fragment" data-fragment-index=4>second = first
>>> <span class="fragment" data-fragment-index=6>second.append(9)
>>> </span><span class="fragment" data-fragment-index=7>second
[9]
>>> </span><span class="fragment" data-fragment-index=8>first</span><span class="fragment" data-fragment-index=9>
[9]</span></code></pre>
            <div style="display: grid; grid-auto-flow: column;">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 130" class="fragment" data-fragment-index=3 style="height: 250px;">
                <!-- Bucket -->
                <path d="M10 30 L110 30 L100 120 L20 120 Z" fill="none" stroke="black" stroke-width="2"/>

                <!-- Variable name -->
                <text x="60" y="20" font-size="16" text-anchor="middle">first</text>

                <!-- Empty list representation -->
                <text x="60" y="80" font-size="24" text-anchor="middle">[<tspan class="fragment" data-fragment-index=9 fill="#d00">9</tspan>]</text>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 130" class="fragment" data-fragment-index=5 style="height: 250px;">
                <!-- Bucket -->
                <path d="M10 30 L110 30 L100 120 L20 120 Z" fill="none" stroke="black" stroke-width="2"/>

                <!-- Variable name -->
                <text x="60" y="20" font-size="16" text-anchor="middle">second</text>

                <!-- Empty list representation -->
                <text x="60" y="80" font-size="24" text-anchor="middle">[<tspan class="fragment" data-fragment-index=6>9</tspan>]</text>
              </svg>
            </div>
          </div>
          <h2 style="color: #d00;" class="fragment" data-fragment-index=10>This mental model breaks down</h2>
          <aside class="notes" data-markdown>
            - If you think of variables as like **(CLICK)** buckets that contain objects
            - Then when we assign a variable to an empty list **(CLICK)**, that variable would **contain** that list **(CLICK)**
            - If we then assigned another variable to the first one, **(CLICK)** the list would be **copied** into a new bucket **(CLICK)**
            - But if we then append `9` to our second list **(CLICK)**, which changes **(CLICK)** that list
            - The first list shouldn't change... **(CLICK)**
            - ... But it *does* **(CLICK)** change!
            - In Python, this mental model **(CLICK)** doesn't work...
            - Variables in Python are *not* like **buckets that contain objects**
            - And assignment statements don't copy anything
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2 class="fragment" data-fragment-index=12 style="margin-left: 2em;">Pointers<span class="fragment" data-fragment-index=13>&nbsp;&nbsp;ü§î</span></h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=4>first = []
>>> </span><span class="fragment" data-fragment-index=6>second = first
>>> <span class="fragment" data-fragment-index=8>second.append(9)
>>> </span><span class="fragment" data-fragment-index=10>second
[9]
>>> </span><span class="fragment" data-fragment-index=11>first
[9]
>>> </span><span style="visibility: hidden;">rows = [second]
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g class="fragment" data-fragment-index=3>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g class="fragment" data-fragment-index=2>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g class="fragment" data-fragment-index=5>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=7>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=5>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=9>[]</text>
                </g>
                <g class="fragment" data-fragment-index=9>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle">[9]</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - In Python, variables **(CLICK)** and objects **(CLICK)** live in two different places
            - When we assign a variable **(CLICK)** we draw an arrow  **(CLICK)** from the variable to the object
            - Then when we assign **(CLICK)** another variable to the first one, we draw another arrow **(CLICK)** from the second variable to the *same exact* object
            - So when we **(CLICK)** modify our second list **(CLICK)**...
            - The second list changes **(CLICK)** and so does the first **(CLICK)** because *they're the same list*
            - This is the mental model I usually recommend for thinking about how Python's variables and objects work
            - I call this the "pointers" mental model **(CLICK)** because it looks like variables *point* to objects
            - ...
            - But "pointer" is also **(CLICK)** a technical term that has a specific meaning
            - Python's pointers...
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=4>‚û°Ô∏è</h2>
          <h3>
            &ldquo;But they're not like pointers in C&rdquo;
          </h3>
          <table class="no-border">
            <tbody>
              <tr>
                <td class="fragment" data-fragment-index=1>binding</td>
                <td class="fragment" data-fragment-index=1>ü™¢</td>
              </tr>

              <tr>
                <td class="fragment" data-fragment-index=2>reference</td>
                <td class="fragment" data-fragment-index=2>üìñ</td>
              </tr>

              <tr>
                <td class="fragment" data-fragment-index=3>pointer</td>
                <td class="fragment" data-fragment-index=3>üëâ</td>
              </tr>
            </tbody>
          </table>
          <aside class="notes" data-markdown>
            - Are not like pointers in low-level languages like C and C++
            - There's no dereferencing pointers or pointer arithmetic and they're not *nearly* as *scary* or as powerful as C pointers
            - The Python documentation often refers to variables as **(CLICK)** "bindings"
            - Though they're also sometimes called **(CLICK)** "references"
            - I usually call them "pointers" **(CLICK)** because for me, that word makes me think of an **arrow** pointing **(CLICK)** from a variable an object
          </aside>
        </section>

      </section>
      <section>
        <!-- section: change -->
        <!-- SECTION TIME: 3 minutes -->

        <section data-transition="slide-in none-out">
          <h1>&ldquo;Change&rdquo;</h1>
          <aside class="notes" data-markdown>
            - Let's talk about the word "change"...
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-auto-flow: column;">
            <div>
              <h3 class="fragment" data-fragment-index=7>mutation</h3>
              <pre class="python"><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> first = [2, 3]
>>> second = first
>>> <span class="fragment" data-fragment-index=1>first.append(5)
>>> </span><span class="fragment" data-fragment-index=2>second
[2, 3, 5]</span>
              </code></pre>
            </div>
            <div>
              <h3 class="fragment" data-fragment-index=6>assignment</h3>
              <pre class="python"><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> first = [2, 3]
>>> second = first
>>> <span class="fragment" data-fragment-index=3>first = [2, 3, 5]
>>> </span><span class="fragment" data-fragment-index=4>second
[2, 3]</span>
              </code></pre>
            </div>
          </div>
          <h3 class="fragment" data-fragment-index=5>&ldquo;change&rdquo;</h3>
          <aside class="notes" data-markdown>
            - Earlier I said "if we change `first` **(CLICK)** by appending, second changes **(CLICK)**, but if we change `first` **(CLICK)** by assigning, second doesn't change" **(CLICK)**
            - The word "change" **(CLICK)** is a problem here
            - There are *two different* types of "change" in Python
            - *Assignments* **(CLICK)** change variables and *mutations* **(CLICK)** change objects
            - We can use our pointers mental model to help us differentiate these two types of "change" ...
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> first = [2, 1, 3, 4]
>>> second = first
>>> <span class="fragment" data-fragment-index=1>first.append(7)
>>> </span><span class="fragment" data-fragment-index=3>second
[2, 1, 3, 4, 7]
>>> </span><span class="fragment" data-fragment-index=5>first = [100, 200, 300]
>>> </span><span class="fragment" data-fragment-index=7>second
[2, 1, 3, 4, 7]
>>>
            </span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 387.5 70 L 387.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10" class="fragment fade-out" data-fragment-index=6 />
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10" class="fragment fade-out" data-fragment-index=6 />
                </g>
                <g>
                  <text x="319" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=2>[2, 1, 3, 4]</text>
                  <text x="319" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=2>[2, 1, 3, 4, 7]</text>
                </g>
                <g class="fragment" data-fragment-index=6>
                  <path d="M 140 135 L 213.63 201.5" fill="none" stroke="#000" stroke-miterlimit="10"/>
<path d="M 218.88 205 L 211.88 208.5 L 213.63 205 L 211.88 201.5 Z" 
      fill="#000" 
      stroke="#000" 
      stroke-miterlimit="10"
      transform="rotate(45, 218.88, 205)"/>

                  <path d="M 243 180 L 220 180 L 220 230 L 243 230" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 375 180 L 375 230 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="231" y="208.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,231.5,205)">list</text>
                  <text x="307" y="208.5" fill="#00f" font-size="13px" text-anchor="middle">[100, 200, 300]</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - When we append to `first`, **(CLICK)** we're mutating the *object* **(CLICK)** that `first` points to
            - Since `second` **points to the same object**, accessing `second` **(CLICK)** will show the same *changed* object
            - But if we **(CLICK)** reassign first, that changes *which* object **(CLICK)** the variable `first` points to
            - ... But that *doesn't* change the `second` variable at all... **(CLICK)**
            - `second` still points to the same object as before
            - Mutations change objects
            - Assignments change *which* object a *variable* points to
          </aside>
        </section>

        <section>
          <p class="fragment" data-fragment-index=1 style="margin-top: -1em;"><span class="fragment fade-out" data-fragment-index=2>Remember: variables point to objects</span></p>
          <h2 class="fragment" data-fragment-index=2>The 2 Types of Change</h2>
          <ul style="list-style-type: none; margin-left: -2em;">
            <li class="fragment" data-fragment-index=3><strong>Mutations</strong> change an object</li>
            <li class="fragment" data-fragment-index=4><strong>Assignments</strong> change a variable</li>
          </ul>
          <aside class="notes" data-markdown>
            - So... **(click)** variables in Python don't *contain* objects, they *point* to them
            - Because of this indirection between variables and objects, **(click)** there are 2 distinct types of "change":
            - **(CLICK)** mutations and **(CLICK)** assignments
            - mutations change objects and assignments change variables
            - So... the phrase...
          </aside>
        </section>

        <section>
          <h1>&ldquo;We changed <code>x</code>&rdquo;</h1>
          <div style="display: grid; grid-auto-flow: column;">
            <div class="fragment" data-fragment-index=2>
              <p>Changed the <strong>variable</strong>?</p>
              <pre class="python"><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> x = [2, 3]
>>> x = [2, 3, 5]
              </code></pre>
              <h2 class="fragment" data-fragment-index=6>assignment</h2>
            </div>
            <div class="fragment" data-fragment-index=3>
              <p>Changed the <strong>object</strong>?</p>
              <pre class="python"><code data-trim data-noescape style="font-size: 22px; line-height: 26px;">
>>> x = [2, 3]
>>> x.append(5)
              </code></pre>
              <h2 class="fragment" data-fragment-index=7>mutation</h2>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - "we changed `x`"
            - ... is a bit ambiguous
            - Do we mean that we changed the variable `x` **(CLICK)** or the object that `x` points to? **(CLICK)**
            - Did we do an assignment **(CLICK)** or a mutation **(CLICK)**?
          </aside>
        </section>

        <section>
          <h1>Gotchas</h1>
          <ol style="font-size: 0.7em; list-style: none; counter-reset: item; padding-left: 0;">
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;" class="fragment highlight-red"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">1.</strong> <code>second = first</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">2.</strong> <code style="white-space: pre;">for i, n in enumerate(numbers):
    numbers[i] = n ** 2</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">3.</strong> <code>groups = dict.fromkeys(colors, [])</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">4.</strong> <code>matrix = [[0] * 3] * 3</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">5.</strong> <code style="white-space: pre;">def __init__(self, tasks=[]):
    self.tasks = tasks</code></li>
          </ol>
          <aside class="notes" data-markdown>
            - And that explains **(CLICK)** our first gotcha
          </aside>
        </section>

      </section>
      <section>
        <!-- section: identity -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=2>2 types of</h1>
          <h1 class="fragment" data-fragment-index=3>&ldquo;are they the same?&rdquo;</h1>
          <pre class="python fragment" data-fragment-index=4 style="font-size: 0.75em; width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=4>first == second  <strong class="fragment" data-fragment-index=5># Equality</strong>
True
>>> </span><span class="fragment" data-fragment-index=6>first is second  <strong class="fragment" data-fragment-index=7># Identity</strong>
True</span></code></pre>
          <aside class="notes" data-markdown>
            - In Python, we have two different types of "change"...
            - But we also have **(CLICK)** two different ways to ask the question...
            - **(CLICK)** "are they the same?"
            - We have the **(CLICK)** double equals operator (`==`) for **(CLICK)** *equality*
            - And we have the **(CLICK)** `is` operator for **(CLICK)** *identity*
            - You can think of equality and identity as asking about model numbers and serial numbers.
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-auto-flow: column;">
            <img src="washing machine.png" class="no-style">
            <div style="display: flex; flex-direction: column; align-items: center;">
              <div style="position: relative; display: inline-block; max-width: 100%; vertical-align: middle;">
                <img
                  src="washing machine tag.jpg"
                  class="fragment no-style"
                  style="display: block; width: 600px; max-width: 100%; height: auto;"
                  data-fragment-index=1
                >
                <div
                  class="fragment"
                  data-fragment-index=2
                  style="
                    position: absolute;
                    background-color: rgba(0, 255, 0, 0.3);
                    box-sizing: border-box;
                    pointer-events: none;
                    top: 49%;
                    left: 8%;
                    width: 27%;
                    height: 7%;
                  "
                >
                </div>
                <div
                  class="fragment"
                  data-fragment-index=3
                  style="
                    position: absolute;
                    background-color: rgba(0, 0, 255, 0.3);
                    box-sizing: border-box;
                    pointer-events: none;
                    top: 25%;
                    left: 7%;
                    width: 35%;
                    height: 12%;
                  "
                >
                </div>
              </div>
              <p class="fragment" data-fragment-index=5 style="margin-bottom: 0;"><strong style="color: #7771a1;">Identity</strong>: the exact same object</p>
              <p class="fragment" data-fragment-index=4 style="margin-bottom: 0;"><strong style="color: #72ae61;">Equality</strong>: an equivalent object</p>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - Equality and identity are like **(CLICK)** model numbers and serial numbers
            - Model numbers **(CLICK)** help you find equivalent devices
            - Serial numbers **(CLICK)** uniquely identify a specific device
            - Equality **(CLICK)** asks whether two objects represent the same thing
            - Identity **(CLICK)** asks whether they are the exact same object
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=5>Equality is about objects</h3>
          <h3 class="fragment" data-fragment-index=6>Identity is about pointers</h3>
          <pre class="python" style="margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>first == second  <strong class="fragment" data-fragment-index=2># Are these objects equal to the other?</strong>
True
>>> </span><span class="fragment" data-fragment-index=3>first is second  <strong class="fragment" data-fragment-index=4># Do these variables point to the same object?</strong>
True</span></code></pre>
          <aside class="notes" data-markdown>
            - If we have two variables, `first`, and `second`, and we ask whether they **(CLICK)** are *equal*, we're asking whether they have the same value... this asks **(CLICK)** the *objects* whether they represent the same thing
            - If we ask whether these variables **(CLICK)** are *identical* we're asking whether **(CLICK)** they both point to the same object
            - unlike equality, identity doesn't ask any question of the object itself.
            - So **(CLICK)** equality compares the values of objects, while **(CLICK)** identity compares references to those objects to see whether they're the same reference
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=3 style="margin-top: -1em;"><strong>Equality</strong>:<br>the usual way to ask<br>&ldquo;are they the same?&rdquo;</h3>
          <pre class="python fragment" data-fragment-index=1 style="font-size: 30px; line-height: 40px; width: 50%; margin: 1em auto;"><code data-trim data-noescape>
value is None
          </code></pre>
          <pre class="python fragment" data-fragment-index=2 style="font-size: 30px; line-height: 40px; width: 50%; margin: 1em auto;"><code data-trim data-noescape>
value == another_value
          </code></pre>
          <aside class="notes" data-markdown>
            - The `is` operator is *very* rarely used outside of comparisons to **(CLICK)** `None`
            - When we ask "are they the same?" we usually **(CLICK)** want the double-equals operator.
            - **(CLICK)** Checking equality is much more common than checking identity
            - **08 minutes and 30 seconds in**
          </aside>
        </section>

      </section>
      <section>
        <!-- section: mutating assignments -->
        <!-- SECTION TIME: 3 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=8>Assignments happen</h1>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>e = 2.7
>>> </span><span class="fragment" data-fragment-index=2>from math import e
>>> </span><span class="fragment" data-fragment-index=3>for e in range(3):
...     print(e)
...
0
1
2
>>> </span><span class="fragment" data-fragment-index=5>def e(): return 2.7
...
>>> </span><span class="fragment" data-fragment-index=6>class e: pass
...
>>> </span><span class="fragment" data-fragment-index=7>e
&lt;class '__main__.e'></span>
          </code></pre>
          <aside class="notes" data-markdown>
            - So assignments change which object a variable points to
            - And this **(CLICK)** is what an assignment looks like
            - But it's not the *only* way an assignment might look
            - Import statements **(CLICK)** also assign to a variable
            - And each iteration of a `for` loop **(CLICK)** assigns to a variable
            - And function definitions **(CLICK)** and class definitions **(CLICK)** also assign to variables
            - We've just assigned to the variable `e` 5 times **(CLICK)**
            - Any Python feature that updates what a name points to **(CLICK)** performs some sort of assignment
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=7>Function arguments are also assignments</h3>
          <pre class="python"><code data-trim data-noescape>
def square_all(<span class="fragment bold-current" data-fragment-index=3>numbers</span>):
    for i, n in enumerate(numbers):
        <span class="fragment bold-current" data-fragment-index=5>numbers[i] = n ** 2</span>
    return numbers
          </code></pre>
          <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment bold-current" data-fragment-index=4>numbers = [2, 1, 3, 4, 7]</span>
>>> <span class="fragment" data-fragment-index=2>square_all(numbers)
[4, 1, 9, 16, 49]
>>> </span><span class="fragment" data-fragment-index=6>numbers
[4, 1, 9, 16, 49]</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Passing arguments to a function is also a form of assignment
            - So when we called the `square_all` function with a list of numbers **(CLICK)**
            - The local `numbers` variable **(CLICK)** within the `square_all` function was assigned to the list object **(CLICK)** that we passed in to that function
            - When we then **(CLICK)** *mutated* that `numbers` list by updating each of its indexes as we looped...
            - We were *mutating* the original `numbers` list
            - That's why our `numbers` list *outside* **(CLICK)** the function changed.
            - Function arguments are just variables **(CLICK)** and all variables point to objects
            - Variable assignments don't copy objects and neither do function calls
          </aside>
        </section>

        <section>
          <pre class="python fragment strike" data-fragment-index=4><code data-trim data-noescape>
def square_all(numbers):
    for i, n in enumerate(numbers):
        numbers[i] = n ** 2  <span class="fragment" data-fragment-index=1 style="font-weight: bold;"># DON'T DO THIS</span>
    return numbers
          </code></pre>
          <pre class="python fragment" data-fragment-index=2><code data-trim data-noescape>
def square_all(numbers):
    squares = []
    for n in numbers:
        squares.append(n ** 2)
    return squares
          </code></pre>
          <pre class="python fragment" data-fragment-index=3><code data-trim data-noescape>
def square_all(numbers):
    return [
        n ** 2
        for n in numbers
    ]
          </code></pre>
          <aside class="notes" data-markdown>
            - This is the reason that, in Python, functions *rarely* mutate the objects that are passed into them **(CLICK)**
            - Instead, it's very common to build up new lists out of old lists **(CLICK)**
            - With a `for` loop
            - Or **(CLICK)** a comprehension
            - Or with the many other Python features that make new objects out of old objects
            - Unless your function is specifically designed to modify an object in-place, **(CLICK)** return new objects instead modifying existing ones
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=2>Assignments that mutate</h2>
          <pre class="python"><code data-trim data-noescape>
def square_all(numbers):
    for i, n in enumerate(numbers):
        <span class="fragment bold" data-fragment-index=1>numbers[i] = n ** 2</span>
    return numbers
          </code></pre>
          <pre class="python fragment" data-fragment-index=3><code data-trim data-noescape>
>>> some_list[0] = 8
>>> <span class="fragment" data-fragment-index=4>some_object.attribute = 4</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - But wait... **(CLICK)** this assignment statement **mutates** the list...
            - So is it an assignment or a mutation?
            - Well... it's both. **(CLICK)**
            - Assigning to **(CLICK)** a list index mutates the list
            - And assigning to **(CLICK)** an attribute mutates the object that the attribute lives on
            - In fact, if you *squint* hard enough, every assignment is *also* a mutation of some sort of namespace... it may not be a namespace that we can access through attribute lookups on an object... but all variables are stored somewhere
          </aside>
        </section>

        <!--
        <section>
          <h2>Assignments can mutate</h2>
          <ul>
            <li class="fragment">Assignments change the object a reference refers to</li>
            <li class="fragment">Objects can contain references to other object</li>
            <li class="fragment">Assigning to an object attribute/index mutates the object</li>
          </ul>
          <aside class="notes" data-markdown>
            - Assignments **(CLICK)** change which object a pointer is pointing to...
            - But objects can contain references to other objects **(CLICK)**
            - And when our assignment target is an index, a key, or an attribute, that pointer lives *within* an object
            - So when we use an assignment statement to change where that attribute is pointing, **(CLICK)** that *mutates* the containing object
          </aside>
        </section>
        -->

        <!--
        <section>
          <h3 class="fragment" data-fragment-index=2>Augmented Assignments</h3>
          <p class="fragment" data-fragment-index=1>
          <strong><code>+=</code></strong>, <strong><code>-=</code></strong>, <strong><code>*=</code></strong>, etc.
          </p>
          <p class="fragment" data-fragment-index=3>Are these assignments?</p>
          <p class="fragment" data-fragment-index=4>Are these mutations?</p>
          <h1 class="fragment" data-fragment-index=5>YES</h1>
          <aside class="notes" data-markdown>
            - But what about `+=` and `-=`? **(CLICK)**
            - These are often called **(CLICK)** augmented assignments...
            - But do these **(CLICK)** perform an assignment?
            - Or do they **(CLICK)** mutate an object?
            - Well...  **(CLICK)**
            - It depends.
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=7>In-place addition</h2>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>a = [2, 1, 3]
>>> </span><span class="fragment" data-fragment-index=2>b = a
>>> </span><span class="fragment" data-fragment-index=3>b += [4, 7, 11]
>>> </span><span class="fragment" data-fragment-index=4>b
[2, 1, 3, 4, 7, 11]
>>> <span class="fragment" data-fragment-index=5>a</span><span class="fragment" data-fragment-index=6>
[2, 1, 3, 4, 7, 11]</span></code></pre>
          <aside class="notes" data-markdown>
            - Let's say we have two variables, `a` **(click)** and `b` **(click)** that both point to the same list
            - If we use `+=` **(click)** to add more elements to `b` **(click)**
            - ... what happens to `a`? **(click)**
            - Did `a` change or is it still the same?
            - When we look at the variable `a`, we'll see that it *changed* **(click)**
            - Augmented assignments actually perform a *mutation*
            - So using `+=` on a list doesn't make a new list... it *mutates* the existing list
            - That's why `+=` is often called an in-place addition **(click)**
            - In-place operations are *designed* to mutate
          </aside>
        </section>

        <section>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>name = "North Bay Python"
>>> </span><span class="fragment" data-fragment-index=2>name += " 2025"  <span class="fragment" data-fragment-index=4># name = name + "2025"</span>
>>> </span><span class="fragment" data-fragment-index=3>name
'North Bay Python 2025'</span></code></pre>
          <aside class="notes" data-markdown>
            - But wait... doesn't `+=` work on strings? **(click)**
            - Strings is Python are immutable...
            - Which means you can't *change* a string object
            - But strings work with `+=`... **(click)**
            - If `+=` is an *in-place* addition, how does it work on strings? **(click)**
            - Well, augmented assignments *can* perform a mutation, but they don't *have* to... it's up to the object that they're operating on
            - If an object doesn't specially handle `+=` then **(click)** Python falls back to using the `+` operator and a plain old assignment
            - The distinction between assignments and mutations isn't always very clear... augmented assignments do perform an assignment, but they can also mutate.
            - But this assignment or mutation fuzziness comes up in other ways too **(CLICK)**
          </aside>
        </section>
        -->

        <section>
          <h1>Gotchas</h1>
          <ol style="font-size: 0.7em; list-style: none; counter-reset: item; padding-left: 0;">
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline; color: red;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">1.</strong> <code>second = first</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;" class="fragment highlight-red"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">2.</strong> <code style="white-space: pre;">for i, n in enumerate(numbers):
    numbers[i] = n ** 2</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">3.</strong> <code>groups = dict.fromkeys(colors, [])</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">4.</strong> <code>matrix = [[0] * 3] * 3</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">5.</strong> <code style="white-space: pre;">def __init__(self, tasks=[]):
    self.tasks = tasks</code></li>
          </ol>
          <aside class="notes" data-markdown>
            - That's **(CLICK)** two down, three to go
          </aside>
        </section>

      </section>
      <section>
        <!-- section: containment -->
        <!-- SECTION TIME: 7 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=2>Objects</h1>
          <h2 class="fragment current-visible" data-fragment-index=1>Variables</h2>
          <aside class="notes" data-markdown>
            - We've talked about **(CLICK)** variables, but we haven't talked much about **(CLICK)** objects
            - So let's talk about data structures
          </aside>
        </section>

        <section>
          <h2>Data structures <span class="fragment" data-fragment-index=1>don't contain data<span class="fragment" data-fragment-index=2>*</span></span></h2>
          <p class="fragment" data-fragment-index=2><small>*for some definitions of &ldquo;data&rdquo;</small></p>
          <h2 class="fragment" data-fragment-index=3>Data structures don't contain <em>objects</em></h2>
          <aside class="notes" data-markdown>
            - In Python, data structures **(CLICK)** *don't* contain data
            - ...
            - depending on what we mean **(CLICK)** by data
            - What I really mean is that **(CLICK)** data structures don't contain *objects*
            - Earlier, I showed a diagram that looked like...
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2>Pointers</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> first = []
>>> <span class="fragment bold-current" data-fragment-index=0>second = first</span>
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span style="visibility: hidden;">rows = [second]
>>>
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=1>[9]</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=1>
                  <path d="M 353 40 L 330 40 L 330 90 L 353 90" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 390 40 L 390 90 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="341" y="68.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,341.5,65)">int</text>
                  <text x="370" y="68" fill="#000" font-size="13px" text-anchor="middle">9</text>

                  <path d="M 287.5 95 L 324.8 68.67" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 329.09 65.64 L 325.39 72.54 L 324.8 68.67 L 321.35 66.82 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <rect x="262.5" y="85" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - this.
            - Because we **(CLICK)** assigned two variables to the same value
            - Both `first` and `second` point to the same list, and that list contains the number `9`
            - But that list doesn't *actually* contain the number 9
            - This diagram should technically look more like this... **(CLICK)**
            - Because the list doesn't *contain* the number `9`...
            - It only contains a *reference* to the number `9`
          </aside>
        </section>

        <section data-transition="none-in slide-out">
          <h2>Pointers</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> first = []
>>> second = first
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span class="fragment" data-fragment-index=1>rows = [second]
>>>
            </span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <path d="M 353 40 L 330 40 L 330 90 L 353 90" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 390 40 L 390 90 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="341" y="68.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,341.5,65)">int</text>
                  <text x="370" y="68" fill="#000" font-size="13px" text-anchor="middle">9</text>

                  <path d="M 287.5 95 L 324.8 68.67" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 329.09 65.64 L 325.39 72.54 L 324.8 68.67 L 321.35 66.82 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <rect x="262.5" y="85" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
                <g class="fragment" data-fragment-index=2>
                  <rect x="20" y="179" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="207" fill="#000" font-size="13px" text-anchor="middle">rows</text>
                  <path d="M 140 205 L 213.63 205" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 218.88 205 L 211.88 208.5 L 213.63 205 L 211.88 201.5 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 267.5 195 L 285.86 126.15" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 287.21 121.08 L 288.79 128.75 L 285.86 126.15 L 282.03 126.94 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <path d="M 243 180 L 220 180 L 220 230 L 243 230" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 300 180 L 300 230 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="231" y="208.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,231.5,205)">list</text>
                  <rect x="255" y="194" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="267" y="208.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - Variables, can only *point* to objects
            - And objects can only *point* to other objects
            - Objects *cannot contain* other objects
            - Which is why... **(CLICK)** if we put our list inside another list...
            - The new list won't *contain* our list **(CLICK)**
            - The new list's first index just points to the original list object
            - Which means... phrases like...
          </aside>
        </section>

        <section>
          <h2>&ldquo;a list of lists&rdquo;</h2>
          <h2 class="fragment">&ldquo;a list of references to lists&rdquo;</h2>
          <aside class="notes" data-markdown>
            - A list-of-lists are actually short-hand
            - ... for **(CLICK)** "a list that contain *references* to lists"
            - And the word...
          </aside>
        </section>

        <section>
          <h1>Containment</h1>
          <h2 class="fragment">... is a lie</h2>
          <pre class="python fragment" style="width: 15%; text-align: center;"><code data-trim data-noescape style="font-size: 30px; line-height: 36px;">
x in y
          </code></pre>
          <h3 class="fragment">&ldquo;y contains x&rdquo;</h3>
          <aside class="notes" data-markdown>
            - Containment is...
            - **(CLICK)**
            - slightly misleading
            - Because objects cannot contain other objects... they can only contain *references* to objects
            - So when we ask whether one object contains another... **(CLICK)**
            - We're asking whether one object contains a **reference** to an object that **is equal** to another object
            - But, instead of saying all that, we just say "y contains x"
            - TODO make the containment and "... is a lie" part disappear as we reveal "x contains x"
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <div style="display: grid; grid-template-columns: 50% 50%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> matrix = <span class="fragment bold-current" data-fragment-index=3>[<span class="fragment bold-current" data-fragment-index=1>[0] * 3</span>] * 3</span>
>>> matrix
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> <span class="fragment" data-fragment-index=6>matrix[1][1] = 1
>>> </span><span style="visibility: hidden;">matrix
[[0, 1, 0], [0, 1, 0], [0, 1, 0]]</span><span>


</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="500" height="230" viewBox="0 0 340 200">
            <defs>
              <marker id="arr-matrix" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- int 0 (top) -->
            <g class="fragment" data-fragment-index=2>
              <path d="M 175 5 L 152 5 L 152 42 L 175 42" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 175 5 L 217 5 L 217 42 L 175 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 175 5 L 175 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="163.5" y="27" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,163.5,23.5)">int</text>
              <text x="196" y="27" fill="#000" font-size="13px" text-anchor="middle">0</text>
            </g>
            <!-- arrows: inner indices ‚Üí int 0 -->
            <g class="fragment" data-fragment-index=2>
              <line x1="140" y1="78" x2="170" y2="46" stroke="#000" marker-end="url(#arr-matrix)"/>
              <line x1="182" y1="78" x2="184" y2="46" stroke="#000" marker-end="url(#arr-matrix)"/>
              <line x1="224" y1="78" x2="198" y2="46" stroke="#000" marker-end="url(#arr-matrix)"/>
            </g>
            <!-- inner list (middle) -->
            <g class="fragment" data-fragment-index=2>
              <path d="M 118 68 L 95 68 L 95 108 L 118 108" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 68 L 265 68 L 265 108 L 118 108" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 68 L 118 108" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="106.5" y="91.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,106.5,88)">list</text>
              <rect x="128" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="140" y="91" fill="#00f" font-size="13px" text-anchor="middle">0</text>
              <rect x="170" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="182" y="91" fill="#00f" font-size="13px" text-anchor="middle">1</text>
              <rect x="212" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="224" y="91" fill="#00f" font-size="13px" text-anchor="middle">2</text>
            </g>
            <!-- arrows: outer indices ‚Üí inner list -->
            <g class="fragment" data-fragment-index=4>
              <line x1="140" y1="150" x2="155" y2="112" stroke="#000" marker-end="url(#arr-matrix)"/>
              <line x1="182" y1="150" x2="182" y2="112" stroke="#000" marker-end="url(#arr-matrix)"/>
              <line x1="224" y1="150" x2="210" y2="112" stroke="#000" marker-end="url(#arr-matrix)"/>
            </g>
            <!-- outer list (bottom) -->
            <g class="fragment" data-fragment-index=4>
              <path d="M 118 140 L 95 140 L 95 180 L 118 180" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 140 L 265 140 L 265 180 L 118 180" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 140 L 118 180" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="106.5" y="163.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,106.5,160)">list</text>
              <rect x="128" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="140" y="163" fill="#00f" font-size="13px" text-anchor="middle">0</text>
              <rect x="170" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="182" y="163" fill="#00f" font-size="13px" text-anchor="middle">1</text>
              <rect x="212" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="224" y="163" fill="#00f" font-size="13px" text-anchor="middle">2</text>
            </g>
            <!-- matrix variable -->
            <g class="fragment" data-fragment-index=5>
              <rect x="2" y="148" width="72" height="30" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="38" y="167" fill="#000" font-size="13px" text-anchor="middle">matrix</text>
              <line x1="74" y1="163" x2="90" y2="163" stroke="#000" marker-end="url(#arr-matrix)"/>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - Let's revisit our list-of-lists problem, where we used self-concatenation to build up a 3-by-3 list-of-lists
            - Multiplying the inner list by 3 creates **(CLICK)** a list that points to `0` three times **(CLICK)**
            - Multiplying the other list by 3 creates **(CLICK)** a list that points to the inner list three times **(CLICK)**
            - So we end up... **(CLICK)** with an outer list has 3 references pointing to **the same** inner list
            - Concatenating a list to itself with multiplication does *not* copy the objects inside that list...
            - So when we modify **(CLICK)** one of our "rows"...
          </aside>
        </section>

        <section data-transition="none-in slide-out">
          <div style="display: grid; grid-template-columns: 50% 50%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> matrix = [[0] * 3] * 3
>>> matrix
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> matrix[1][1] = 1
>>> <span class="fragment">matrix
[[0, 1, 0], [0, 1, 0], [0, 1, 0]]</span><span>


</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="500" height="230" viewBox="0 0 340 200">
            <defs>
              <marker id="arr-matrix2" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- int 0 (top-left) -->
            <g>
              <path d="M 175 5 L 152 5 L 152 42 L 175 42" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 175 5 L 217 5 L 217 42 L 175 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 175 5 L 175 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="163.5" y="27" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,163.5,23.5)">int</text>
              <text x="196" y="27" fill="#000" font-size="13px" text-anchor="middle">0</text>
            </g>
            <!-- int 1 (top-right) -->
            <g>
              <path d="M 275 5 L 252 5 L 252 42 L 275 42" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 275 5 L 317 5 L 317 42 L 275 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 275 5 L 275 42" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="263.5" y="27" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,263.5,23.5)">int</text>
              <text x="296" y="27" fill="#000" font-size="13px" text-anchor="middle">1</text>
            </g>
            <!-- arrows: inner indices ‚Üí int 0 (indices 0 and 2 still point to 0) -->
            <line x1="140" y1="78" x2="170" y2="46" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <line x1="224" y1="78" x2="198" y2="46" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <!-- arrow: inner index 1 ‚Üí int 1 -->
            <line x1="182" y1="78" x2="268" y2="46" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <!-- inner list (middle) -->
            <g>
              <path d="M 118 68 L 95 68 L 95 108 L 118 108" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 68 L 265 68 L 265 108 L 118 108" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 68 L 118 108" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="106.5" y="91.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,106.5,88)">list</text>
              <rect x="128" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="140" y="91" fill="#00f" font-size="13px" text-anchor="middle">0</text>
              <rect x="170" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="182" y="91" fill="#00f" font-size="13px" text-anchor="middle">1</text>
              <rect x="212" y="78" width="25" height="20" fill="none" stroke="#000"/>
              <text x="224" y="91" fill="#00f" font-size="13px" text-anchor="middle">2</text>
            </g>
            <!-- arrows: outer indices ‚Üí inner list -->
            <line x1="140" y1="150" x2="155" y2="112" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <line x1="182" y1="150" x2="182" y2="112" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <line x1="224" y1="150" x2="210" y2="112" stroke="#000" marker-end="url(#arr-matrix2)"/>
            <!-- outer list (bottom) -->
            <g>
              <path d="M 118 140 L 95 140 L 95 180 L 118 180" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 140 L 265 140 L 265 180 L 118 180" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 118 140 L 118 180" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="106.5" y="163.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,106.5,160)">list</text>
              <rect x="128" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="140" y="163" fill="#00f" font-size="13px" text-anchor="middle">0</text>
              <rect x="170" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="182" y="163" fill="#00f" font-size="13px" text-anchor="middle">1</text>
              <rect x="212" y="150" width="25" height="20" fill="none" stroke="#000"/>
              <text x="224" y="163" fill="#00f" font-size="13px" text-anchor="middle">2</text>
            </g>
            <!-- matrix variable -->
            <g>
              <rect x="2" y="148" width="72" height="30" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="38" y="167" fill="#000" font-size="13px" text-anchor="middle">matrix</text>
              <line x1="74" y1="163" x2="90" y2="163" stroke="#000" marker-end="url(#arr-matrix2)"/>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - We're modifying the one object that all three indices point to
            - Index 1 in the inner list now points to the number 1 instead of the number 0
            - But since all three outer indices point to the **same** inner list, **(CLICK)** all 3 "rows" show this change
            - Because all rows are actually the same list
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-template-columns: 60% 40%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> matrix = <span class="fragment bold-current" data-fragment-index=3>[<span class="fragment bold-current" data-fragment-index=0>[0] * 3</span> for _ in <span class="fragment bold-current" data-fragment-index=1>range(3)</span>]</span>
>>> <span class="fragment" data-fragment-index=5>matrix[1][1] = 1</span><span class="fragment" data-fragment-index=6>
>>> </span><span class="fragment" data-fragment-index=7>matrix
[[0, 0, 0], [0, 1, 0], [0, 0, 0]]</span><span>




</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="400" height="230" viewBox="0 0 300 195">
            <defs>
              <marker id="arr-matrix3" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- outer list (with index boxes, upper-left) -->
            <g class="fragment" data-fragment-index=4>
              <path d="M 43 5 L 20 5 L 20 40 L 43 40" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 43 5 L 170 5 L 170 40 L 43 40" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 43 5 L 43 40" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="31.5" y="26" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,31.5,22.5)">list</text>
              <rect x="53" y="13" width="25" height="20" fill="none" stroke="#000"/>
              <text x="65" y="27" fill="#00f" font-size="13px" text-anchor="middle">0</text>
              <rect x="95" y="13" width="25" height="20" fill="none" stroke="#000"/>
              <text x="107" y="27" fill="#00f" font-size="13px" text-anchor="middle">1</text>
              <rect x="137" y="13" width="25" height="20" fill="none" stroke="#000"/>
              <text x="149" y="27" fill="#00f" font-size="13px" text-anchor="middle">2</text>
            </g>
            <!-- inner list 0 (right, oversimplified) -->
            <g class="fragment" data-fragment-index=2>
              <path d="M 200 55 L 180 55 L 180 90 L 200 90" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 55 L 290 55 L 290 90 L 200 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 55 L 200 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="190" y="76" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,190,72.5)">list</text>
              <text x="245" y="77" fill="#000" font-size="13px" text-anchor="middle">[0, 0, 0]</text>
            </g>
            <!-- inner list 1 (right, oversimplified) -->
            <g class="fragment" data-fragment-index=2>
              <path d="M 200 105 L 180 105 L 180 140 L 200 140" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 105 L 290 105 L 290 140 L 200 140" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 105 L 200 140" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="190" y="126" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,190,122.5)">list</text>
              <text x="245" y="127" fill="#000" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=6>[0, 0, 0]</text>
              <text x="245" y="127" fill="#000" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=6>[0, <tspan fill="#909" font-weight="bold">1</tspan>, 0]</text>
            </g>
            <!-- inner list 2 (right, oversimplified) -->
            <g class="fragment" data-fragment-index=2>
              <path d="M 200 155 L 180 155 L 180 190 L 200 190" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 155 L 290 155 L 290 190 L 200 190" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 200 155 L 200 190" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="190" y="176" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,190,172.5)">list</text>
              <text x="245" y="177" fill="#000" font-size="13px" text-anchor="middle">[0, 0, 0]</text>
            </g>
            <!-- arrows from outer indices to inner lists -->
            <g class="fragment" data-fragment-index=4>
              <line x1="65" y1="33" x2="176" y2="168" stroke="#000" marker-end="url(#arr-matrix3)"/>
              <line x1="107" y1="33" x2="176" y2="118" stroke="#000" marker-end="url(#arr-matrix3)"/>
              <line x1="149" y1="33" x2="176" y2="68" stroke="#000" marker-end="url(#arr-matrix3)"/>
            </g>
            <!-- matrix variable -->
            <g class="fragment" data-fragment-index=4>
              <rect x="2" y="58" width="72" height="30" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="38" y="77" fill="#000" font-size="13px" text-anchor="middle">matrix</text>
              <line x1="38" y1="58" x2="30" y2="44" stroke="#000" marker-end="url(#arr-matrix3)"/>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - TODO fix up this slide
            - To fix this, we can use a list comprehension
            - A list comprehension evaluates **(CLICK)** this `[0] * 3` expression once per iteration, creating 3 **separate** list objects
            - Using our oversimplified diagram here, we can see each outer index points to a **different** inner list
            - So when we mutate one row **(CLICK)**, only that row changes
            - Because each row is its own distinct list object
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> colors = ["purple", "blue", "green"]
>>> <span class="fragment" data-fragment-index=1>groups = dict.fromkeys(colors, [])
>>> </span><span class="fragment" data-fragment-index=3>groups["purple"].append("duck")
>>> </span><span class="fragment" data-fragment-index=5>groups
{'purple': ['duck'], 'blue': ['duck'], 'green': ['duck']}</span>
          </code></pre>
          <svg xmlns="http://www.w3.org/2000/svg" width="500" height="230" viewBox="0 0 400 210" class="fragment" data-fragment-index=2>
            <defs>
              <marker id="arr-dict" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- list object (top-right) -->
            <g>
              <path d="M 298 5 L 275 5 L 275 45 L 298 45" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 298 5 L 380 5 L 380 45 L 298 45" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 298 5 L 298 45" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="286.5" y="28.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,286.5,25)">list</text>
              <text x="339" y="29" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=4>[]</text>
              <text x="339" y="29" fill="#00f" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=4>["duck"]</text>
            </g>
            <!-- dict object (middle) -->
            <g>
              <path d="M 138 75 L 115 75 L 115 185 L 138 185" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 138 75 L 215 75 L 215 185 L 138 185" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 138 75 L 138 185" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="126.5" y="134" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,126.5,130)">dict</text>
              <!-- key: "purple" -->
              <rect x="148" y="85" width="55" height="20" fill="none" stroke="#000"/>
              <text x="175" y="99" fill="#000" font-size="11px" text-anchor="middle">"purple"</text>
              <!-- key: "blue" -->
              <rect x="148" y="120" width="55" height="20" fill="none" stroke="#000"/>
              <text x="175" y="134" fill="#000" font-size="11px" text-anchor="middle">"blue"</text>
              <!-- key: "green" -->
              <rect x="148" y="155" width="55" height="20" fill="none" stroke="#000"/>
              <text x="175" y="169" fill="#000" font-size="11px" text-anchor="middle">"green"</text>
            </g>
            <!-- arrows: all three keys ‚Üí same list (spread across top of list box) -->
            <line x1="203" y1="95" x2="305" y2="47" stroke="#000" marker-end="url(#arr-dict)"/>
            <line x1="203" y1="130" x2="328" y2="47" stroke="#000" marker-end="url(#arr-dict)"/>
            <line x1="203" y1="165" x2="351" y2="47" stroke="#000" marker-end="url(#arr-dict)"/>
            <!-- groups variable -->
            <g>
              <rect x="2" y="120" width="72" height="30" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="38" y="139" fill="#000" font-size="13px" text-anchor="middle">groups</text>
              <line x1="74" y1="135" x2="110" y2="135" stroke="#000" marker-end="url(#arr-dict)"/>
            </g>
          </svg>
          <aside class="notes" data-markdown>
            - Remember our `dict.fromkeys` problem?
            - `dict.fromkeys` creates a dictionary **(CLICK)** with each key pointing to the same value
            - Here's what that looks like **(CLICK)** -- all three keys point to the **same** list object
            - So when we append to one of them **(CLICK)**...
            - We're mutating **(CLICK)** the one list that all three keys share
            - And that means **(CLICK)** all keys show the change, because they all point to the same object
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-template-columns: 65% 35%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> colors = ["purple", "blue", "green"]
>>> groups = <span class="fragment bold-current" data-fragment-index=3>{color: <span class="fragment bold-current" data-fragment-index=0>[]</span> <span class="fragment bold-current" data-fragment-index=1>for color in colors</span>}</span>
>>> <span class="fragment" data-fragment-index=5>groups["purple"].append("duck")
>>> </span><span class="fragment" data-fragment-index=7>groups
{'purple': ['duck'], 'blue': [], 'green': []}</span><span>



</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="320" height="230" viewBox="0 0 270 185">
            <defs>
              <marker id="arr-dict2" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- 3 list objects (fragment 2) -->
            <g class="fragment" data-fragment-index=2>
              <!-- list for "purple" (oversimplified) -->
              <g>
                <path d="M 158 50 L 138 50 L 138 85 L 158 85" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 50 L 260 50 L 260 85 L 158 85" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 50 L 158 85" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <text x="148" y="71" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,148,67.5)">list</text>
                <text x="209" y="72" fill="#000" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=6>[]</text>
                <text x="209" y="72" fill="#000" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=6>[<tspan fill="#909" font-weight="bold">"duck"</tspan>]</text>
              </g>
              <!-- list for "blue" (oversimplified) -->
              <g>
                <path d="M 158 95 L 138 95 L 138 130 L 158 130" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 95 L 260 95 L 260 130 L 158 130" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 95 L 158 130" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <text x="148" y="116" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,148,112.5)">list</text>
                <text x="209" y="117" fill="#000" font-size="13px" text-anchor="middle">[]</text>
              </g>
              <!-- list for "green" (oversimplified) -->
              <g>
                <path d="M 158 140 L 138 140 L 138 175 L 158 175" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 140 L 260 140 L 260 175 L 158 175" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 158 140 L 158 175" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <text x="148" y="161" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,148,157.5)">list</text>
                <text x="209" y="162" fill="#000" font-size="13px" text-anchor="middle">[]</text>
              </g>
            </g>
            <!-- dict, arrows, groups variable (fragment 4) -->
            <g class="fragment" data-fragment-index=4>
              <!-- dict object (left) -->
              <g>
                <path d="M 28 50 L 5 50 L 5 160 L 28 160" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 28 50 L 105 50 L 105 160 L 28 160" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <path d="M 28 50 L 28 160" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                <text x="16.5" y="109" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,16.5,105)">dict</text>
                <!-- key: "purple" -->
                <rect x="38" y="60" width="55" height="20" fill="none" stroke="#000"/>
                <text x="65" y="74" fill="#000" font-size="11px" text-anchor="middle">"purple"</text>
                <!-- key: "blue" -->
                <rect x="38" y="95" width="55" height="20" fill="none" stroke="#000"/>
                <text x="65" y="109" fill="#000" font-size="11px" text-anchor="middle">"blue"</text>
                <!-- key: "green" -->
                <rect x="38" y="130" width="55" height="20" fill="none" stroke="#000"/>
                <text x="65" y="144" fill="#000" font-size="11px" text-anchor="middle">"green"</text>
              </g>
              <!-- arrows from each key to its own list -->
              <line x1="93" y1="70" x2="134" y2="67" stroke="#000" marker-end="url(#arr-dict2)"/>
              <line x1="93" y1="105" x2="134" y2="109" stroke="#000" marker-end="url(#arr-dict2)"/>
              <line x1="93" y1="140" x2="134" y2="153" stroke="#000" marker-end="url(#arr-dict2)"/>
              <!-- groups variable -->
              <g>
                <rect x="2" y="5" width="72" height="26" fill="#e1d5e7" stroke="#9673a6"/>
                <text x="38" y="22" fill="#000" font-size="13px" text-anchor="middle">groups</text>
                <line x1="38" y1="31" x2="25" y2="46" stroke="#000" marker-end="url(#arr-dict2)"/>
              </g>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - To fix the `dict.fromkeys` problem, we can use a dict comprehension
            - This evaluates **(CLICK)** the `[]` expression **(CLICK)** once for each color in our list
            - Creating **(CLICK)** 3 separate list objects
            - **(CLICK)** The whole comprehension builds a dictionary **(CLICK)** where each key points to its own list
            - So when we **(CLICK)** append to one of them **(CLICK)** only that key's list changes **(CLICK)**
            - Because each value is its own distinct list object
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-template-columns: 55% 45%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> class TodoList:
...     def __init__(self, tasks=[]):
...         self.tasks = tasks
...
>>> <span class="fragment" data-fragment-index=1>mon = TodoList()
>>> tue = TodoList()
>>> </span><span class="fragment" data-fragment-index=3>mon.tasks.append("Work on talk")
>>> </span><span class="fragment" data-fragment-index=5>tue.tasks
['Work on talk']
>>> </span><span class="fragment" data-fragment-index=6>TodoList.__init__.__defaults__[0]
['Work on talk']</span><span>
</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="280" style="margin-top: 20px;" viewBox="0 -20 340 168" class="fragment" data-fragment-index=2>
            <defs>
              <marker id="arr-todo" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- shared list object (right) -->
            <g>
              <path d="M 195 37 L 175 37 L 175 72 L 195 72" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 37 L 335 37 L 335 72 L 195 72" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 37 L 195 72" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="185" y="58" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,185,54.5)">list</text>
              <text x="260" y="59" fill="#000" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=4>[]</text>
              <text x="260" y="59" fill="#000" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=4>[<tspan fill="#909" font-weight="bold">"Work on talk"</tspan>]</text>
            </g>
            <!-- mon's TodoList object (top) -->
            <g>
              <path d="M 82 0 L 55 0 L 55 59 L 82 59" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 0 L 148 0 L 148 59 L 82 59" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 0 L 82 59" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="67" y="31" fill="#000" text-anchor="middle" font-size="11px" transform="rotate(-90,68.5,27.5)">TodoList</text>
              <rect x="90" y="17" width="40" height="20" fill="none" stroke="#9673a6"/>
              <text x="110" y="31" fill="#000" font-size="11px" text-anchor="middle">tasks</text>
            </g>
            <!-- tue's TodoList object (bottom) -->
            <g>
              <path d="M 82 65 L 55 65 L 55 124 L 82 124" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 65 L 148 65 L 148 124 L 82 124" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 65 L 82 124" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="67" y="96" fill="#000" text-anchor="middle" font-size="11px" transform="rotate(-90,68.5,92.5)">TodoList</text>
              <rect x="90" y="82" width="40" height="20" fill="none" stroke="#9673a6"/>
              <text x="110" y="96" fill="#000" font-size="11px" text-anchor="middle">tasks</text>
            </g>
            <!-- arrows: both .tasks ‚Üí same list -->
            <line x1="130" y1="27" x2="171" y2="47" stroke="#000" marker-end="url(#arr-todo)"/>
            <line x1="130" y1="92" x2="171" y2="63" stroke="#000" marker-end="url(#arr-todo)"/>
            <!-- mon variable -->
            <g>
              <rect x="2" y="14" width="36" height="26" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="20" y="31" fill="#000" font-size="13px" text-anchor="middle">mon</text>
              <line x1="38" y1="27" x2="51" y2="27" stroke="#000" marker-end="url(#arr-todo)"/>
            </g>
            <!-- tue variable -->
            <g>
              <rect x="2" y="79" width="36" height="26" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="20" y="96" fill="#000" font-size="13px" text-anchor="middle">tue</text>
              <line x1="38" y1="92" x2="51" y2="92" stroke="#000" marker-end="url(#arr-todo)"/>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - Remember our `TodoList` problem with the mutable default argument?
            - When we create **(CLICK)** two instances without passing a `tasks` list...
            - Here's what's happening **(CLICK)** -- both instances' `.tasks` attributes point to the **same** default list object
            - So when we append to one **(CLICK)**...
            - We're mutating **(CLICK)** the one list that both instances share
            - And that means **(CLICK)** both instances show the change
            - In fact, **(CLICK)** we can look at the actual default value stored on the method itself
            - That `[]` expression in our function definition was evaluated just *once* when the method was defined, and the resulting object was attached to the method
            - Since both instances point to that same object, mutating it through one instance means the default value itself is now `['Work on talk']`
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-template-columns: 55% 45%;">
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> class TodoList:
...     def __init__(self, tasks=[]):
...         self.tasks = <span class="fragment bold-current" data-fragment-index=0>list(tasks)</span>
...
>>> <span class="fragment" data-fragment-index=1>mon = TodoList()
>>> tue = TodoList()
>>> </span><span class="fragment" data-fragment-index=4>mon.tasks.append("Work on talk")
>>> </span><span class="fragment" data-fragment-index=6>tue.tasks
[]</span><span>
</span>
          </code></pre>
          <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="260" viewBox="0 -20 340 168" class="fragment" data-fragment-index=2>
            <defs>
              <marker id="arr-todo2" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                <path d="M 0 0 L 8 3 L 0 6 Z" fill="#000"/>
              </marker>
            </defs>
            <!-- mon's list (top-right) -->
            <g>
              <path d="M 195 0 L 175 0 L 175 35 L 195 35" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 0 L 335 0 L 335 35 L 195 35" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 0 L 195 35" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="185" y="21" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,185,17.5)">list</text>
              <text x="260" y="22" fill="#000" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=5>[]</text>
              <text x="260" y="22" fill="#000" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=5>[<tspan fill="#909" font-weight="bold">"Work on talk"</tspan>]</text>
            </g>
            <!-- tue's list (bottom-right) -->
            <g>
              <path d="M 195 74 L 175 74 L 175 109 L 195 109" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 74 L 335 74 L 335 109 L 195 109" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 195 74 L 195 109" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="185" y="95" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,185,91.5)">list</text>
              <text x="260" y="96" fill="#000" font-size="13px" text-anchor="middle">[]</text>
            </g>
            <!-- default list (middle-right, smaller, dimmed) -->
            <g class="fragment" data-fragment-index=3>
              <path d="M 195 37 L 175 37 L 175 72 L 195 72" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" opacity="0.4"/>
              <path d="M 195 37 L 275 37 L 275 72 L 195 72" fill="none" stroke="#82b366" stroke-miterlimit="10" opacity="0.4"/>
              <path d="M 195 37 L 195 72" fill="none" stroke="#82b366" stroke-miterlimit="10" opacity="0.4"/>
              <text x="185" y="58" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,185,54.5)" opacity="0.4">list</text>
              <text x="232" y="59" fill="#000" font-size="13px" text-anchor="middle" opacity="0.4">[]</text>
            </g>
            <!-- mon's TodoList object (top) -->
            <g>
              <path d="M 82 0 L 55 0 L 55 59 L 82 59" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 0 L 148 0 L 148 59 L 82 59" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 0 L 82 59" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="67" y="31" fill="#000" text-anchor="middle" font-size="11px" transform="rotate(-90,68.5,27.5)">TodoList</text>
              <rect x="90" y="17" width="40" height="20" fill="none" stroke="#9673a6"/>
              <text x="110" y="31" fill="#000" font-size="11px" text-anchor="middle">tasks</text>
            </g>
            <!-- tue's TodoList object (bottom) -->
            <g>
              <path d="M 82 65 L 55 65 L 55 124 L 82 124" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 65 L 148 65 L 148 124 L 82 124" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <path d="M 82 65 L 82 124" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
              <text x="67" y="96" fill="#000" text-anchor="middle" font-size="11px" transform="rotate(-90,68.5,92.5)">TodoList</text>
              <rect x="90" y="82" width="40" height="20" fill="none" stroke="#9673a6"/>
              <text x="110" y="96" fill="#000" font-size="11px" text-anchor="middle">tasks</text>
            </g>
            <!-- arrows: each .tasks ‚Üí its own list -->
            <line x1="130" y1="27" x2="171" y2="17" stroke="#000" marker-end="url(#arr-todo2)"/>
            <line x1="130" y1="92" x2="171" y2="91" stroke="#000" marker-end="url(#arr-todo2)"/>
            <!-- mon variable -->
            <g>
              <rect x="2" y="14" width="36" height="26" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="20" y="31" fill="#000" font-size="13px" text-anchor="middle">mon</text>
              <line x1="38" y1="27" x2="51" y2="27" stroke="#000" marker-end="url(#arr-todo2)"/>
            </g>
            <!-- tue variable -->
            <g>
              <rect x="2" y="79" width="36" height="26" fill="#e1d5e7" stroke="#9673a6"/>
              <text x="20" y="96" fill="#000" font-size="13px" text-anchor="middle">tue</text>
              <line x1="38" y1="92" x2="51" y2="92" stroke="#000" marker-end="url(#arr-todo2)"/>
            </g>
          </svg>
          </div>
          </div>
          <aside class="notes" data-markdown>
            - To fix this, we could use **(CLICK)** the `list` constructor to copy the default list
            - Now when we create **(CLICK)** two instances without passing a `tasks` list...
            - Each instance **(CLICK)** gets its own separate copy of that default list
            - The original default **(CLICK)** is still sitting on the method, untouched
            - So when we append to one **(CLICK)**...
            - We're only mutating **(CLICK)** that one instance's list
            - And the other instance's list **(CLICK)** is unaffected, because each instance has its own distinct list object
          </aside>
        </section>

        <section>
          <pre class="python"><code data-trim data-noescape style="font-size: 20px; line-height: 24px;">
>>> class TodoList:
...     def __init__(self, tasks=[]):
...         self.tasks = list(tasks)
...
>>> <span class="fragment" data-fragment-index=0>default_todos = ["Reflect on last week"]
>>> mon = TodoList(default_todos)
>>> tue = TodoList(default_todos)
>>> </span><span class="fragment" data-fragment-index=1>mon.tasks.append("Work on talk")
>>> </span><span class="fragment" data-fragment-index=2>mon.tasks
['Reflect on last week', 'Work on talk']
>>> </span><span class="fragment" data-fragment-index=3>tue.tasks
['Reflect on last week']
>>> </span><span class="fragment" data-fragment-index=4>wed = TodoList({"Here is", "a set", "of tasks"})</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - This also has another benefit
            - If we pass **(CLICK)** the *same* list into this class twice, each instance gets its own separate copy
            - So mutating the tasks list **(CLICK)** of one instance **(CLICK)**
            - Will *not* affect the tasks list **(CLICK)** of the other
            - Also, because the `list` constructor will loop over any iterable to make a new list, this class now accepts not just lists but sets, generators, or **(CLICK)** *any* iterable
            - This is why classes that are meant to *change* an iterable that's passed in, will often shallowly copy that iterable in their initializers
          </aside>
        </section>

        <section>
          <h1>Gotchas</h1>
          <ol style="font-size: 0.7em; list-style: none; counter-reset: item; padding-left: 0;">
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline; color: red;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">1.</strong> <code>second = first</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline; color: red;"><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">2.</strong> <code style="white-space: pre;">for i, n in enumerate(numbers):
    numbers[i] = n ** 2</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;" class="fragment highlight-red" data-fragment-index=0><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">3.</strong> <code>groups = dict.fromkeys(colors, [])</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;" class="fragment highlight-red" data-fragment-index=0><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">4.</strong> <code>matrix = [[0] * 3] * 3</code></li>
            <li style="margin-bottom: 1.0em; counter-increment: item; display: flex; align-items: baseline;" class="fragment highlight-red" data-fragment-index=0><strong style="font-size: 1.5em; margin-right: 0.3em; line-height: 1;">5.</strong> <code style="white-space: pre;">def __init__(self, tasks=[]):
    self.tasks = tasks</code></li>
          </ol>
          <aside class="notes" data-markdown>
            - And that's **(CLICK)** all five of our gotchas explained
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=2>class TodoList:
...     def __init__(self, tasks):
...         self.tasks = tasks
...
...     def add_task(self, task):
...         self.tasks.append(task)
...
>>> </span><span class="fragment" data-fragment-index=3>default_todos = ["Reflect on last week"]
>>> </span><span class="fragment fade-out" data-fragment-index=10><span class="fragment" data-fragment-index=4>mon = TodoList(default_todos)
>>> </span><span class="fragment" data-fragment-index=5>tue = TodoList(default_todos)
>>> </span><span class="fragment" data-fragment-index=6>mon.add_task("Work on talk")
>>> </span><span class="fragment" data-fragment-index=7>mon.tasks
['Reflect on last week', 'Work on talk']
>>> </span><span class="fragment" data-fragment-index=8>tue.tasks</span><span class="fragment" data-fragment-index=9>
['Reflect on last week', 'Work on talk']</span></span>
<br>
          </code></pre>
          <aside class="notes" data-markdown>
            - ...isn't just about data structures... this is about pretty much *every object in Python* **(CLICK)**
            - Let's say we make *our own* objects using a class
            - This class accepts a list and stores that list as an attribute on our class instances
            - Calling the `add_task` method on an instance of this `TodoList` class will add a new task to the end of the `tasks` attribute for that class instance
            - ...
            - If we pass **(CLICK)** the same list **(CLICK)** into this class twice... **(CLICK)**
            - We'll end up with two class instances that have the same attribute
            - But what if we mutate the `tasks` list **(CLICK)** for one of those two objects? **(CLICK)**
            - Will that affect **(CLICK)** the *other* object?
            - ...
            - It will! **(CLICK)**
            - Attributes, like variables, don't *contain* objects... they *point* to objects
            - This might seem like a *really* big issue... **(CLICK)**
            - But this problem has a pretty common solution
          </aside>
        </section>

        <!--
        <section data-transition="none-in none-out">
          <pre class="python"><code data-trim data-noescape>
>>> <span>class TodoList:
...     def __init__(self, tasks):
...        #self.tasks = tasks
...         self.tasks = <span class="fragment bold-current">list(tasks)</span>  # shallowly copy the list
...     def add_task(self, task):
...         self.tasks.append(task)
...
>>> default_todos = ["Reflect on last week"]
>>> </span><span class="fragment">mon = TodoList(default_todos)
>>> tue = TodoList(default_todos)
>>> </span><span class="fragment">mon.add_task("Work on talk")
>>> </span><span class="fragment">mon.tasks
['Reflect on last week', 'Work on talk']
>>> </span><span class="fragment">tue.tasks
['Reflect on last week']
>>> </span><span class="fragment">wed = TodoList({"Here is", "a set", "of tasks"})</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - In this class, we could use **(CLICK)** the `list` constructor to copy the passed-in list
            - Now when we make **(CLICK)** two instances of our class by passing in the *same* list twice...
            - Modifying the `tasks` list **(CLICK)** of one instance **(CLICK)**
            - Will *not* affect the `tasks` list **(CLICK)** of the other
            - Also, this class now also accepts not just lists, but sets, generators, or *any* iterable
            - ... because the `list` constructor **(CLICK)** will loop over any iterable you give to it to make a new list that contains *all the items* from the given iterable
            - So for many classes that are meant to change the data that's passed-in to them, that data is often copied when a new instance is initialized
          </aside>
        </section>

        <section>
          <h2>Objects don't contain objects</h2>
          <ul>
            <li class="fragment">Variables point to objects</li>
            <li class="fragment">Objects can contain pointers to objects</li>
            <li class="fragment">A list-of-lists is a list of pointers to lists</li>
            <li class="fragment">
              <strong><code>x in y</code></strong> loops over <strong><code>y</code></strong> checking equality with <strong><code>x</code></strong>
            </li>
          </ul>
          <aside class="notes" data-markdown>
            - Variables don't contain objects... **(CLICK)** they only contain pointers to objects
            - But objects also don't contain objects...
            - Whether we're talking about indexes or attributes, **(CLICK)** objects only contain pointers to objects
            - So when we say we've made a list-of-lists
            - We actually mean **(CLICK)** that we've made a list where each item acts as pointer to another list
            - And in fact, **(CLICK)** when ask whether our list contains a specific object using Python's `in` operator...
            - We're actually asking whether our list contains a reference to an equivalent object
            - **15 minutes**
          </aside>
        </section>
        -->

      </section>
      <section>
        <!-- section: conclusion -->

        <section>
          <h2>It's pointers all the way down üê¢</h2>
          <ul>
          <li class="fragment">Variables store object references</li>
          <li class="fragment">Objects store object references</li>
          <li class="fragment">Immutable containers can change</li>
          </ul>
          <aside class="notes" data-markdown>
            - In Python, variables don't contain objects... they only *point* to objects
            - Put another way, **(CLICK)** Variables store *references* to objects
            - Also, objects **(CLICK)** can store references to other objects
            - But objects *can't contain* objects
            - And **(CLICK)** immutable objects that contain references to *mutable* objects are only *kind of* immutable
            - So given what we've learned about how variables and objects work in Python...
          </aside>
        </section>

        <section>
          <h2>One more puzzle</h2>
          <pre class="python" style="width: 45%;"><code data-trim data-noescape>
>>> x = []
>>> x.append(x)
>>> x
???
          </code></pre>
          <aside class="notes" data-markdown>
            - I want you to take a guess
            - What will `x` look like after we run this code?
            - Take a moment to think about it...
            - ...
          </aside>
        </section>

        <section data-transition="none">
          <pre class="python" style="width: 45%;"><code data-trim data-noescape>
>>> x = []
>>> x.append(x)
>>> x
[[...]]
          </code></pre>
          <aside class="notes" data-markdown>
            - We get a list that appears to contain itself
            - The `...` is Python's way of showing "I've seen this before"
            - This is possible because lists don't contain objects - they contain references
          </aside>
        </section>

        <section data-background-image="ouroboros-background.png" data-transition="none">
          <pre class="python" style="width: 45%;"><code data-trim data-noescape>
>>> x = []
>>> x.append(x)
>>> x
[[...]]
<span class="fragment" data-fragment-index=1>>>> x[0] is x
True</span>
<span class="fragment" data-fragment-index=2>>>> x in x
True</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Because that's apparently possible in Python
            - A list can contain itself.. sort of
            - ...as we know, data structures don't *contain* objects, they contain references to objects
            - So this list contains a **reference** to itself **(CLICK)**
            - We have just made an infinitely recursive data structure **(CLICK)**
            - This is possible because objects in Python don't contain other objects
            - Both variables and objects can only contain *references* to objects
            - So there's nothing stopping a list from contain a reference to itself
          </aside>
        </section>

      </section>
      <section>
        <!-- section: why -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1 style="margin-top: -0.2em;" class="fragment" data-fragment-index=1>We didn't discuss</h1>
          <ul>
          <li class="fragment" data-fragment-index=2>Variable scope in Python</li>
          <li class="fragment" data-fragment-index=3>Hashability and its relation to immutability</li>
          <li class="fragment" data-fragment-index=4>CPython optimizations that affect identity</li>
          <li class="fragment" data-fragment-index=5>Direct value storage of array, data frames, etc.</li>
          <li class="fragment" data-fragment-index=6>Mutable default argument gotchas</li>
          <li class="fragment" data-fragment-index=7>Tuples containing mutable objects</li>
          <li class="fragment" data-fragment-index=7>Why it all works this way</li>
          </ul>
          <h2 style="margin-top: 0.2em;" class="fragment" data-fragment-index=8><a href="https://trey.io/pycascades26">https://trey.io/pycascades26</a></h2>
          <p style="font-size: 0.9em;" class="fragment" data-fragment-index=9><a href="https://pyvideo.org/pyohio-2011/pyohio-2011-names-objects-and-plummeting-from.html">Names, Objects, and Plummeting From The Cliff</a> - Brandon Rhodes</p>
          <p style="font-size: 0.9em;" class="fragment" data-fragment-index=9><a href="https://nedbatchelder.com/text/names1.html">Facts and Myths about Names and Values</a> - Ned Batchelder</p>

          <aside class="notes" data-markdown>
            - There are *many* odd corners of this topic that we didn't cover today.
            - For example, **(CLICK)** we didn't discuss...
            - **(CLICK)** Variable scope within Python
            - **(CLICK)** Hashability
            - **(CLICK)** Optimizations around numbers, strings, and tuples
            - **(CLICK)** Arrays and direct value storage
            - **(CLICK)** Mutable default arguments
            - **(CLICK)** And the fact that tuples can contain mutable objects
            - ...
            - **(CLICK)** This URL, which is on the bottom of each slide in this talk, includes links to resources on some of these topics as well as **(CLICK)** 2 great talks by other Python community members
            - ...
            - Before we wrap up... I do want to address a common question...
          </aside>
        </section>

        <section>
          <h1 class="fragment fade-out" data-fragment-index=1>But... why?</h1>
          <h2 class="fragment" data-fragment-index=1>Imagine an alternative...</h2>
          <p class="fragment" data-fragment-index=2>Would every assignment statement make a copy?</p>
          <p class="fragment" data-fragment-index=3>Would storing a reference to an object ever be possible?</p>
          <p class="fragment" data-fragment-index=4 style="margin-left: 1em;">"reference assignments" and "copying assignments" <span class="fragment" data-fragment-index=5>üò¨</span></p>
          <aside class="notes" data-markdown>
            - *Why* does Python work this way?
            - Wouldn't it be easier if variables and data structures contained objects and assignments copied the objects we were assigning to
            - Well... **(CLICK)**
            - Imagine if every assignment made a copy of an object **(CLICK)**
            - Copying objects all the time takes time and it takes memory
            - But also, how would we ever model parent-child relationships **(CLICK)** or any kind of relationship that involved storing a *reference* to an object instead of a copy of an object?
            - Would we need to make a distinction **(CLICK)** between assignments that copied and assignments that made a reference...
            - Other programming languages have done that before...
            - And... **(CLICK)** that requires adding another layer of complexity to the language
            - ...
            - Python's way isn't necessarily the *right* way... but *most days* I really appreciate the trade-offs that Python made around this topic
          </aside>
        </section>

        <section>
          <h1 class="fragment" data-fragment-index=2>This thing is bad</h1>
          <h2 class="fragment" data-fragment-index=3>Compared to what alternative?</h2>
          <h3 class="fragment" data-fragment-index=1>Everything is a trade-off</h3>
          <aside class="notes" data-markdown>
            - Python's separation between variables and objects can *definitely* be confusing, but it's a pretty decent approach to a hard problem
            - Every decision **(CLICK)** has trade-offs and *everything* is relative to its possible alternatives
            - Whether we're talking about a software feature or about politics, when we say **(CLICK)** "This thing is bad", we should *always* ask ourselves **(CLICK)** "compared to what?"
            - We *should* acknowledge problems with the status quo, but we also need to think deeply and honestly about real world outcomes
          </aside>
        </section>

      </section>
      <section style="text-align: left;" data-background="#663399" data-background-transition="slide" data-transition="slide">
        <h2 style="margin-top: 0.5em;">Resources &nbsp; <a href="https://trey.io/pycascades26">https://trey.io/pycascades26</a></h2>
        <h3 style="margin-top: 1.5em;">
          Thank you<br>
        </h3>
        <div style="margin-top: 2.5em;">
          <p style="float: left; margin-right: 2em;">
            <strong>Trey Hunner</strong><br>
            <small>Python Team Trainer<br>
              <strong>trey@PythonMorsels.com</strong></small>
          </p>
          <p style="float: left;">
          <a href="http://truthful.technology"><img src="horizontal-training-logo.svg" class="no-style logo"></a>
          <a href="http://pythonmorsels.com"><img src="horizontal-morsels-logo.svg" class="no-style logo"></a>
          </p>
          <div style="clear: both;"></div>
        </div>
        <aside class="notes" data-markdown>
          - ...
          - Thank you
        </aside>
      </section>

      </section>
      <section>
        <!-- section: cutting room floor -->

        <!-- section: mental models intro -->
        <!-- SECTION TIME: 1 minute -->

        <section data-background-color="#fff" data-transition="none">
          <a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank"><img src="marie-white-black.png" style="width: 1000px; margin: 0; border: 0; box-shadow: none; margin-bottom: 1px;"></a>
          <p>&copy; 2024 Akiyoshi Kitaoka, used with permission</p>
          <p><small><a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank">https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html</a></small></p>
          <aside class="notes" data-markdown>
            - One of these faces is **white** and one is **black**
            - One has a dark background and one has a light background
            - ... at least it looks that way
            - These faces are actually the same color
          </aside>
        </section>

        <section data-background-color="#fff" data-transition="none">
          <video width="1200" data-autoplay style="width: 1000px; margin: 0; margin-top: 0.5px; margin-right: 1px;" disablePictureInPicture>
            <source src="marie-white-black.webm" type="video/mp4">
          </video>
          <p class="fragment" style="background-color: #7c7c7c; font-family: monospace; color: #fff">#7c7c7c</p>
          <p><small><a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank">https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html</a></small></p>
          <aside class="notes" data-markdown>
            - These faces are both **(CLICK)** a shade of gray that's *right* **in-between** white and black
            - This optical illusion happens because our brain is trying to **correct** for what it perceives as a difference in the **quality of light** around these two faces
            - Our brain is constantly **modeling** the world...
          </aside>
        </section>

        <section>
          <h1 class="fragment">Mental Models</h1>
          <blockquote style="box-shadow: none; font-size: 1.5em;" class="fragment">
            "All models are wrong,<br>but some models are useful."
            <nobr>&mdash; George E. P. Box</nobr>
          </blockquote>
          <aside class="notes" data-markdown>
            - Our brain's *mental* models **(CLICK)** help us understand the world around us and they're *usually* pretty great at doing so...
            - ...
            - But every model **(CLICK)** has its flaws
            - Though even *incorrect* models can *still* be **useful**
          </aside>
        </section>

        <!-- section: mutable tuples -->
        <!-- SECTION TIME: 2 minutes -->
        <section>
          <h1 class="fragment data-fragment-index=3">Changing tuples</h1>
          <h2 data-fragment-index=1>Tuples cannot be mutated<span class="fragment" data-fragment-index=2>*</span></h2>
          <p class="fragment" data-fragment-index=2>* For some definitions of "mutate"</p>
          <aside class="notes" data-markdown>
            - Once you've made a tuple, you can't change it
            - ... **(click)**
            - Or can you?
            - **(click)** You *can't* mutate a tuple
            - But you *can* change the value of a tuple
          </aside>
        </section>

        <section>
          <h2>Tuples can contain lists</h2>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>result = (True, [2, 1, 3])
>>> </span><span class="fragment" data-fragment-index=2>result[1].append(4)</span><span class="fragment" data-fragment-index=3>
>>> </span><span class="fragment" data-fragment-index=4>result
(True, [2, 1, 3, 4])</span></code></pre>
          <aside class="notes" data-markdown>
            - If we **(CLICK)** put a list inside of a tuple
            - What would happen if we try to *change* that list **(click)**, by appending a new item to it?
            - Python allows this... **(CLICK)**
            - If you can get a reference to a mutable object, you can mutate it
            - But... **(CLICK)** this also seems to change our tuple
            - And yet, tuples are supposed to be immutable...
            - Are they?
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=9>Immutability is shallow</h2>
          <pre class="python" style="width: 60%;"><code data-trim data-noescape>
>>> result = (True, [2, 1, 3])
>>> result2 = (True, [2, 1, 3])
>>> <span class="fragment" data-fragment-index=3>result == result2
True
>>> </span><span class="fragment" data-fragment-index=5>result[1].append(4)
>>> </span><span class="fragment" data-fragment-index=6>result
(True, [2, 1, 3, 4])
>>> </span><span class="fragment" data-fragment-index=7>result == result2
False</span></code></pre>
          <aside class="notes" data-markdown>
            - If we make 2 equal tuples **(CLICK)**
            - And we mutate an object **(CLICK)** that one of those tuples contains
            - That *will* change the value **(CLICK)** of the tuple
            - Meaning, the tuples **(CLICK)** aren't equal anymore
            - Tuples *are* immutable... **(CLICK)**
            - But any immutable object that can store a reference to a mutable object can potentially have its value change
            - In other words, immutability is a shallow concept...
            - We can't directly change a tuple, but we *can* change objects that tuples refer to... and since the objects a tuple contains affect the *value* of the tuple...
            - That means that tuples that contain mutable objects *can* have their values change
          </aside>
        </section>

        <section>
          <h1 class="fragment">Augmented assignments in tuples</h1>
          <pre class="python fragment" data-fragment-index=1 style="margin: 1em auto;"><code data-trim data-noescape>
>>> result = (True, [2, 1, 3, 4])
>>> result[1] += [7, 11, 18]
Traceback (most recent call last):
  File "&lt;stdin>", line 1, in &lt;module>
    result[1] += [7, 11, 18]
    ~~~~~~^^^
TypeError: 'tuple' object does not support item assignment
>>> result
(True, [2, 1, 3, 4, 7, 11, 18])
          </code></pre>
          <aside class="notes" data-markdown>
            - So what would this in-place addition do?
            - We're trying to mutate a list that's contained within a tuple by using the `+=` operator
            - Would this mutate the list?
            - Or would it give us error?
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2 class="fragment" data-fragment-index=1>Sticky Notes</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=2>first = []
>>> </span><span class="fragment" data-fragment-index=4>second = first
>>> <span class="fragment" data-fragment-index=6>second.append(9)
>>> </span><span class="fragment" data-fragment-index=7>second
[9]
>>> </span><span class="fragment" data-fragment-index=8>first
[9]
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 120" style="overflow: visible; width: 400px;" class="fragment" data-fragment-index=3>
                <!-- Empty list object -->
                <rect x="20" y="20" width="160" height="80" fill="white" stroke="black" stroke-width="2" rx="5" ry="5"/>
                <text x="100" y="70" font-size="24" text-anchor="middle" fill="black">[<tspan class="fragment" data-fragment-index=6>9</tspan>]</text>

                <!-- First sticky note -->
                <g transform="rotate(-15 30 30)">
                <rect x="10" y="0" width="60" height="60" fill="#FFFF88" stroke="#E6E600" stroke-width="1"/>
                <path d="M10 0 L70 0 L70 10 Q60 5 50 10 Q40 15 30 10 Q20 5 10 10 Z" fill="#FFFF66"/>
                <text x="40" y="35" font-size="12" text-anchor="middle" fill="black">first</text>
                </g>

                <!-- Second sticky note -->
                <g transform="rotate(15 170 30)" class="fragment" data-fragment-index=5>
                <rect x="130" y="0" width="60" height="60" fill="#FF9999" stroke="#FF6666" stroke-width="1"/>
                <path d="M130 0 L190 0 L190 10 Q180 5 170 10 Q160 15 150 10 Q140 5 130 10 Z" fill="#FF8888"/>
                <text x="160" y="35" font-size="12" text-anchor="middle" fill="black">second</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
           - Let's mentally model variables as **(CLICK)** sticky notes on objects
            - When we assign a variable to an empty list **(CLICK)**, we attach that variable name to the object **(CLICK)**
            - Then when we assign **(CLICK)** another variable to the first one, we simply **(CLICK)** attach **another name** to the *same* object
            - So when we change **(CLICK)** that second list, the second one changes **(CLICK)** but the first one changes also **(CLICK)**... because there **is no** first and second list
            - it's all just *one* list!
            - This is the mental model that you'll find used in many books on Python and in many introductory Python courses
            - And this mental model works **pretty well**!
            - But, as we'll see later, it *does* have limits
          </aside>
        </section>


        <section>
          <h2>Sticky Notes</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> first = []
>>> second = first
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span class="fragment" data-fragment-index=1>rows = [second]
>>> </span><span class="fragment" data-fragment-index=3>lists = rows</span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 120" style="overflow: visible; width: 400px;">
                <!-- Empty list object -->
                <rect x="20" y="20" width="160" height="80" fill="white" stroke="black" stroke-width="2" rx="5" ry="5"/>
                <text x="100" y="70" font-size="24" text-anchor="middle" fill="black">[<tspan>9</tspan>]</text>

          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> first = []
>>> second = first
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span class="fragment" data-fragment-index=1>rows = [second]
>>> </span><span class="fragment" data-fragment-index=3>lists = rows</span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 120" style="overflow: visible; width: 400px;">
                <!-- Empty list object -->
                <rect x="20" y="20" width="160" height="80" fill="white" stroke="black" stroke-width="2" rx="5" ry="5"/>
                <text x="100" y="70" font-size="24" text-anchor="middle" fill="black">[<tspan>9</tspan>]</text>

                <!-- First sticky note -->
                <g transform="rotate(-15 30 30)">
                <rect x="10" y="0" width="60" height="60" fill="#FFFF88" stroke="#E6E600" stroke-width="1"/>
                <path d="M10 0 L70 0 L70 10 Q60 5 50 10 Q40 15 30 10 Q20 5 10 10 Z" fill="#FFFF66"/>
                <text x="40" y="35" font-size="12" text-anchor="middle" fill="black">first</text>
                </g>

                <!-- Second sticky note -->
                <g transform="rotate(15 170 30)">
                <rect x="130" y="0" width="60" height="60" fill="#FF9999" stroke="#FF6666" stroke-width="1"/>
                <path d="M130 0 L190 0 L190 10 Q180 5 170 10 Q160 15 150 10 Q140 5 130 10 Z" fill="#FF8888"/>
                <text x="160" y="35" font-size="12" text-anchor="middle" fill="black">second</text>
                </g>

                <!-- Third sticky note -->
                <g transform="rotate(-15 30 90)" class="fragment" data-fragment-index=2>
                <rect x="10" y="60" width="60" height="60" fill="#88FF88" stroke="#66E666" stroke-width="1"/>
                <path d="M10 60 L70 60 L70 70 Q60 65 50 70 Q40 75 30 70 Q20 65 10 70 Z" fill="#88FF66"/>
                <text x="40" y="95" font-size="12" text-anchor="middle" fill="black">rows[0]</text>
                </g>

                <!-- Fourth sticky note -->
                <g transform="rotate(5 170 80)" class="fragment" data-fragment-index=4>
                <rect x="150" y="60" width="60" height="60" fill="#9966FF" stroke="#6666FF" stroke-width="1"/>
                <path d="M150 60 L210 60 L210 70 Q200 65 190 70 Q180 75 170 70 Q160 65 150 70 Z" fill="#8888FF"/>
                <text x="180" y="95" font-size="12" text-anchor="middle" fill="black">lists[0]</text>
                </g>
              </svg>

            </div>
          </div>
          <aside class="notes" data-markdown>
            - First we'll take another look at our sticky note mental model
            - What should happen **(CLICK)** if we put our `second` list inside another list?...
            - Should we **add another sticky note** that says **(CLICK)** which list it's in and which index it's at?
            - Also... what if we point **(CLICK)** another variable to that new outer list?
            - Would we need to add yet *another* note with another name and another index? **(CLICK)**
            - This *does* work, but it seems a bit complicated
            - This sticky note mental model works *well* for explaining how **variables** in Python work...
            - But it doesn't work well for explaining how **objects** work
            - Let's take a look at how our pointers mental model handles this...
          </aside>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/truthful.js"></script>


    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/title-footer/title-footer.js', async: true, callback: function() {
            title_footer.initialize("trey.io/pycascades26", "rgba(0,255,0,0.0)");
          } }
        ]
      });
      if (window.self !== window.top) {
        document.body.className += " notes";
      }
    </script>
  </body>
</html>
