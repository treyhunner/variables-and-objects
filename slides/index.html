<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Variables and Objects</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/truthful.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/github.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

      <section>

        <section data-background="#ffffff" data-background-transition="zoom" data-transition="zoom" data-transition-speed="fast">
          <h1>Variables and Objects</h1>
          <p>
          <small><a href="https://treyhunner.com/" rel="author">Trey Hunner</a></small>
          </p>
          <aside class="notes" data-markdown>
            - TODO
          </aside>
        </section>

      </section>
      <section>
        <!-- section: mental models intro -->
        <!-- SECTION TIME: 1 minute -->

        <section data-background-color="#fff" data-transition="none">
          <a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank"><img src="marie-white-black.png" style="width: 1000px; margin: 0; border: 0; box-shadow: none; margin-bottom: 1px;"></a>
          <p>&copy; 2024 Akiyoshi Kitaoka, used with permission</p>
          <p><small><a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank">https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html</a></small></p>
          <aside class="notes" data-markdown>
            - One of these faces is **white** and one is **black**
            - One has a dark background and one has a light background
            - ... at least it looks that way
            - These faces are actually the same color
          </aside>
        </section>

        <section data-background-color="#fff" data-transition="none">
          <video width="1200" data-autoplay style="width: 1000px; margin: 0; margin-top: 0.5px; margin-right: 1px;" disablePictureInPicture>
            <source src="marie-white-black.webm" type="video/mp4">
          </video>
          <p class="fragment" style="background-color: #7c7c7c; font-family: monospace; color: #fff">#7c7c7c</p>
          <p><small><a href="https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html" target="_blank">https://www.psy.ritsumei.ac.jp/akitaoka/saishin72e.html</a></small></p>
          <aside class="notes" data-markdown>
            - These faces are both **(CLICK)** a shade of gray that's *right* **in-between** white and black
            - This optical illusion happens because our brain is trying to **correct** for what it perceives as a difference in the **quality of light** around these two faces
            - Our brain is constantly **modeling** the world...
          </aside>
        </section>

        <section>
          <h1 class="fragment">Mental Models</h1>
          <blockquote style="box-shadow: none; font-size: 1.5em;" class="fragment">
            “All models are wrong,<br>but some models are useful.”
            <nobr>&mdash; George E. P. Box</nobr>
          </blockquote>
          <aside class="notes" data-markdown>
            - Our brain's *mental* models **(CLICK)** help us understand the world around us and they're *usually* pretty great at doing so...
            - ...
            - But every model **(CLICK)** has its flaws
            - Though even *incorrect* models can *still* be **useful**
          </aside>
        </section>

      </section>
      <section>
        <!-- section: Python mental models -->
        <!-- SECTION TIME: 3 minutes -->

        <section>
          <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=1>first = []
>>> </span><span class="fragment" data-fragment-index=3>second = first
>>> <span class="fragment" data-fragment-index=5>second.append(9)
>>> </span><span class="fragment" data-fragment-index=6>second
[9]
>>> </span><span class="fragment" data-fragment-index=7>first</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Let's **test your mental model** of Python's **variables**...
            - If we assign a variable, `first`, to an empty list **(CLICK)**
            - Then we assign the variable `second` to `first` **(CLICK)**
            - And after that, we append `9` to `second` **(CLICK)**
            - `second` now has `1` element within it **(CLICK)**
            - The question we're going to consider...
            - Is... **(CLICK)** "how many items are in `first`"?
            - ...
            - Let's **compare a few different mental models** to see how each one might answer this question
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=1>Buckets</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=2>first = []
>>> </span><span class="fragment" data-fragment-index=4>second = first
>>> <span class="fragment" data-fragment-index=6>second.append(9)
>>> </span><span class="fragment" data-fragment-index=7>second
[9]
>>> </span><span class="fragment" data-fragment-index=8>first</span><span class="fragment" data-fragment-index=9>
[9]</span></code></pre>
            <div style="display: grid; grid-auto-flow: column;">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 130" class="fragment" data-fragment-index=3 style="height: 250px;">
                <!-- Bucket -->
                <path d="M10 30 L110 30 L100 120 L20 120 Z" fill="none" stroke="black" stroke-width="2"/>

                <!-- Variable name -->
                <text x="60" y="20" font-size="16" text-anchor="middle">first</text>

                <!-- Empty list representation -->
                <text x="60" y="80" font-size="24" text-anchor="middle">[<tspan class="fragment" data-fragment-index=9 fill="#d00">9</tspan>]</text>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 130" class="fragment" data-fragment-index=5 style="height: 250px;">
                <!-- Bucket -->
                <path d="M10 30 L110 30 L100 120 L20 120 Z" fill="none" stroke="black" stroke-width="2"/>

                <!-- Variable name -->
                <text x="60" y="20" font-size="16" text-anchor="middle">second</text>

                <!-- Empty list representation -->
                <text x="60" y="80" font-size="24" text-anchor="middle">[<tspan class="fragment" data-fragment-index=6>9</tspan>]</text>
              </svg>
            </div>
          </div>
          <h2 style="color: #d00;" class="fragment" data-fragment-index=10>This mental model breaks down</h2>
          <aside class="notes" data-markdown>
            - First, let's try to mentally model variables as **(CLICK)** buckets that contain objects
            - If we assign a variable to an empty list **(CLICK)**, that variable **contains** that list **(CLICK)**
            - Then when we assign another variable to the first one, **(CLICK)** the list is **copied** into a new bucket **(CLICK)**
            - Let's say we then append `9` to that second list **(CLICK)**, which would **(CLICK)** mutate the second list
            - But the first list shouldn't change... **(CLICK)**
            - ... Except it *does* **(CLICK)** change!
            - This mental model **(CLICK)** doesn't work... at least not in Python
            - Variables in Python are *not* like **buckets that contain objects**
            - And assignment statements don't copy anything
            - Let's try another model...
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2 class="fragment" data-fragment-index=1>Sticky Notes</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=2>first = []
>>> </span><span class="fragment" data-fragment-index=4>second = first
>>> <span class="fragment" data-fragment-index=6>second.append(9)
>>> </span><span class="fragment" data-fragment-index=7>second
[9]
>>> </span><span class="fragment" data-fragment-index=8>first
[9]
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 120" style="overflow: visible; width: 400px;" class="fragment" data-fragment-index=3>
                <!-- Empty list object -->
                <rect x="20" y="20" width="160" height="80" fill="white" stroke="black" stroke-width="2" rx="5" ry="5"/>
                <text x="100" y="70" font-size="24" text-anchor="middle" fill="black">[<tspan class="fragment" data-fragment-index=6>9</tspan>]</text>

                <!-- First sticky note -->
                <g transform="rotate(-15 30 30)">
                <rect x="10" y="0" width="60" height="60" fill="#FFFF88" stroke="#E6E600" stroke-width="1"/>
                <path d="M10 0 L70 0 L70 10 Q60 5 50 10 Q40 15 30 10 Q20 5 10 10 Z" fill="#FFFF66"/>
                <text x="40" y="35" font-size="12" text-anchor="middle" fill="black">first</text>
                </g>

                <!-- Second sticky note -->
                <g transform="rotate(15 170 30)" class="fragment" data-fragment-index=5>
                <rect x="130" y="0" width="60" height="60" fill="#FF9999" stroke="#FF6666" stroke-width="1"/>
                <path d="M130 0 L190 0 L190 10 Q180 5 170 10 Q160 15 150 10 Q140 5 130 10 Z" fill="#FF8888"/>
                <text x="160" y="35" font-size="12" text-anchor="middle" fill="black">second</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - Let's mentally model variables as **(CLICK)** sticky notes on objects
            - When we assign a variable to an empty list **(CLICK)**, we attach that variable name to the object **(CLICK)**
            - Then when we assign **(CLICK)** another variable to the first one, we simply **(CLICK)** attach **another name** to the *same* object
            - So when we change **(CLICK)** that second list, the second one changes **(CLICK)** but the first one changes also **(CLICK)**... because there **is no** first and second list
            - it's all just *one* list!
            - This is the mental model that you'll find used in many books on Python and in many introductory Python courses
            - And this mental model works **pretty well**!
            - But, as we'll see later, it *does* have limits
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2 class="fragment" data-fragment-index=12 style="margin-left: 2em;">Pointers<span class="fragment" data-fragment-index=13>&nbsp;&nbsp;🤔</span></h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=4>first = []
>>> </span><span class="fragment" data-fragment-index=6>second = first
>>> <span class="fragment" data-fragment-index=8>second.append(9)
>>> </span><span class="fragment" data-fragment-index=10>second
[9]
>>> </span><span class="fragment" data-fragment-index=11>first
[9]
>>> </span><span style="visibility: hidden;">rows = [second]
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g class="fragment" data-fragment-index=3>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g class="fragment" data-fragment-index=2>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g class="fragment" data-fragment-index=5>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=7>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=5>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=9>[]</text>
                </g>
                <g class="fragment" data-fragment-index=9>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle">[9]</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - Let's try one last mental model
            - In this third model, we'll think of variables as living in **(CLICK)** variable land and objects as living in **(CLICK)** object land
            - When we assign a variable **(CLICK)** we draw an arrow  **(CLICK)** from the variable to the object
            - Then when we assign **(CLICK)** another variable to the first one, we draw another arrow **(CLICK)** from the second variable to the same object
            - So if we **(CLICK)** modify the second list **(CLICK)**...
            - The second list changes **(CLICK)** and so does the first **(CLICK)** because *they're the same list*
            - I call this mental model "pointers" **(CLICK)** because it looks like variables *point* to objects
            - ...
            - Now, some of you may be **(CLICK)** looking at that word "pointer" and thinking "the word pointer means something specific" and ...
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=3><span class="fragment fade-out" data-fragment-index=4>well actually</span></h2>
          <p>
          &ldquo;... but they're not pointers&rdquo;
          </p>
          <p class="fragment" data-fragment-index=2>
          &ldquo;They're object references&rdquo;
          </p>
          <p class="fragment" data-fragment-index=4>
          &ldquo;They're name bindings&rdquo;
          </p>
          <aside class="notes" data-markdown>
            - "Python's variables are not pointers"
            - ...
            - They're **(CLICK)** "object references"
            - Well...
            - actually **(CLICK)**
            - according to the Python documentation they're **(CLICK)** "bindings"
            - But I'm going to call them pointers
            - With the caveat that...
          </aside>
        </section>

        <section>
          <h3>
            &ldquo;But they're not like pointers in C&rdquo;
          </h3>
          <table class="no-border">
            <tbody>
              <tr>
                <td class="fragment" data-fragment-index=1>binding</td>
                <td class="fragment" data-fragment-index=1>🪢</td>
              </tr>

              <tr>
                <td class="fragment" data-fragment-index=2>reference</td>
                <td class="fragment" data-fragment-index=2>📖</td>
              </tr>

              <tr>
                <td class="fragment" data-fragment-index=3>pointer</td>
                <td class="fragment" data-fragment-index=3>👉</td>
              </tr>
            </tbody>
          </table>
          <aside class="notes" data-markdown>
            - "they're not like pointers in C"
            - You can't dereference them and there's no pointer arithmetic in Python
            - I will *not* use the word "binding"
            - Though I will sometimes use the term "reference"
            - But I'll mostly say "pointer" and "pointing" because that's a very visual idea that *all* of us are familiar with
          </aside>
        </section>

      </section>
      <section>
        <!-- section: change -->
        <!-- SECTION TIME: 3 minutes -->

        <section data-transition="slide-in none-out">
          <h1>
            <span class="fragment fade-out" data-fragment-index=6
            ><span class="fragment" data-fragment-index=1>Ch-</span
            ><span class="fragment" data-fragment-index=2>ch-</span
            ><span class="fragment" data-fragment-index=3>ch-</span
            ></span><span class="fragment" data-fragment-index=4>chang</span
            ><span class="fragment" data-fragment-index=5>e<span
              class="fragment fade-out" data-fragment-index=6>s</span></span>
          </h1>
          <div class="fragment fade-out" data-fragment-index=6 style="margin: 0 auto; width: 800px; display: grid; grid-template-columns: repeat(12, 1fr); grid-gap: 10px;">
            <img src="david-bowie/david-bowie.jpg" class="fragment no-style" data-fragment-index=1 style="grid-column: span 4">
            <img src="david-bowie/man-of-words.jpg" class="fragment no-style" data-fragment-index=2 style="grid-column: span 4">
            <img src="david-bowie/hunky-dory-outtake.jpg" class="fragment no-style" data-fragment-index=3 style="grid-column: span 4">
            <img src="david-bowie/pin-ups.jpg" class="fragment no-style" data-fragment-index=4 style="grid-column: 3 / span 4">
            <img src="david-bowie/heroes.jpg" class="fragment no-style" data-fragment-index=5 style="grid-column: span 4">
          </div>
          <aside class="notes" data-markdown>
            - But before we talk about the word "pointer"...
            - **(CLICK)** *(ch)*
            - **(CLICK)** *(ch)*
            - **(CLICK)** *(ch)*
            - **(CLICK)** *(chang)*
            - **(CLICK)** *(es)*
            - ...
            - Let's talk about the word "change"...
            - In Python, **(CLICK)** this word can be a problem
          </aside>
        </section>

        <section>
          <p class="fragment" data-fragment-index=2>&ldquo;when I <span class="fragment bold" data-fragment-index=7>change</span> <code>first</code>, it doesn't always <span class="fragment bold" data-fragment-index=7>change</span> <code>second</code>&rdquo;</p>
          <pre class="python fragment" data-fragment-index=1 style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> first = [2, 1, 3, 4]
>>> second = first
>>> <span class="fragment" data-fragment-index=3>first.append(7)
>>> </span><span class="fragment" data-fragment-index=4>second
[2, 1, 3, 4, 7]
>>> </span><span class="fragment" data-fragment-index=5>first = [100, 200, 300]
>>> </span><span class="fragment" data-fragment-index=6>second
[2, 1, 3, 4, 7]
>>> </span>
          </code></pre>
          <aside class="notes" data-markdown>
            - Sometimes, Python learners will tell me **(CLICK)** I've assigned two variables (`first` and `second`) to the same object
            - And **(CLICK)** when I change `first`, `second` doesn't *always* change
            - When I "change first" this way **(CLICK)** second changes **(CLICK)**
            - But "when I change first *this* way" **(CLICK)**... "second *doesn't* change" **(CLICK)**
            - Why?
            - The word "change" **(CLICK)** is the problem here.
            - There are *two different* types of "change" in Python
            - **Assignments** change variables and **mutations change objects**
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> first = [2, 1, 3, 4]
>>> second = first
>>> <span class="fragment" data-fragment-index=1>first.append(7)
>>> </span><span class="fragment" data-fragment-index=3>second
[2, 1, 3, 4, 7]
>>> </span><span class="fragment" data-fragment-index=5>first = [100, 200, 300]
>>> </span><span class="fragment" data-fragment-index=7>second
[2, 1, 3, 4, 7]
>>>
            </span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 387.5 70 L 387.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10" class="fragment fade-out" data-fragment-index=6 />
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10" class="fragment fade-out" data-fragment-index=6 />
                </g>
                <g>
                  <text x="319" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment fade-out" data-fragment-index=2>[2, 1, 3, 4]</text>
                  <text x="319" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment" data-fragment-index=2>[2, 1, 3, 4, 7]</text>
                </g>
                <g class="fragment" data-fragment-index=6>
                  <path d="M 140 135 L 213.63 201.5" fill="none" stroke="#000" stroke-miterlimit="10"/>
<path d="M 218.88 205 L 211.88 208.5 L 213.63 205 L 211.88 201.5 Z" 
      fill="#000" 
      stroke="#000" 
      stroke-miterlimit="10"
      transform="rotate(45, 218.88, 205)"/>

                  <path d="M 243 180 L 220 180 L 220 230 L 243 230" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 375 180 L 375 230 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="231" y="208.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,231.5,205)">list</text>
                  <text x="307" y="208.5" fill="#00f" font-size="13px" text-anchor="middle">[100, 200, 300]</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - Let's use our pointers mental model to help us differentiate those two types of "change" ...
            - When we append to `first`, **(CLICK)** we're mutating the *object* **(CLICK)** that `first` points to
            - Since `second` **points to the same object**, accessing `second` **(CLICK)** will show the same *changed* object
            - But if we **(CLICK)** reassign first, that changes *which* object **(CLICK)** the variable `first` points to
            - ... But that *doesn't* change the `second` variable at all... **(CLICK)**
            - `second` still points to the same object as before
          </aside>
        </section>

        <section>
          <p class="fragment" data-fragment-index=1 style="margin-top: -1em;"><span class="fragment fade-out" data-fragment-index=2>Remember: variables point to objects</span></p>
          <h2 class="fragment" data-fragment-index=2>The 2 Types of Change</h2>
          <ul style="list-style-type: none; margin-left: -2em;">
            <li class="fragment" data-fragment-index=3><strong>Mutations</strong> change an object</li>
            <li class="fragment" data-fragment-index=4><strong>Assignments</strong> change a variable</li>
          </ul>
          <aside class="notes" data-markdown>
            - So... **(click)** variables in Python do not *contain* objects, they *point* to them
            - Because of this indirection between variables and objects, **(click)** there are 2 distinct types of "change"
            - This is why the word "change" is ambiguous: **(CLICK)** mutations change objects and **(CLICK)** assignments change **which object** a *variable* points to
          </aside>
        </section>

      </section>
      <section>
        <!-- section: identity -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=2>2 types of</h1>
          <h1 class="fragment" data-fragment-index=3>&ldquo;are they the same?&rdquo;</h1>
          <pre class="python fragment" data-fragment-index=4 style="font-size: 0.75em; width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=4>first == second  <strong class="fragment" data-fragment-index=5># Equality</strong>
True
>>> </span><span class="fragment" data-fragment-index=6>first is second  <strong class="fragment" data-fragment-index=7># Identity</strong>
True</span></code></pre>
          <aside class="notes" data-markdown>
            - In Python, we have two different types of "change"...
            - But we also have **(CLICK)** two different ways to ask the question...
            - **(CLICK)** "are they the same?"
            - We have the **(CLICK)** double equals operator (`==`) for **(CLICK)** *equality*
            - And we have the **(CLICK)** `is` operator for **(CLICK)** *identity*
            - You can think of equality and identity as asking about model numbers and serial numbers.
          </aside>
        </section>

        <section>
          <div style="display: grid; grid-auto-flow: column;">
            <img src="washing machine.png" class="no-style">
            <div style="display: flex; flex-direction: column; align-items: center;">
              <div style="position: relative; display: inline-block; max-width: 100%; vertical-align: middle;">
                <img
                  src="washing machine tag.jpg"
                  class="fragment no-style"
                  style="display: block; width: 600px; max-width: 100%; height: auto;"
                  data-fragment-index=1
                >
                <div
                  class="fragment"
                  data-fragment-index=2
                  style="
                    position: absolute;
                    background-color: rgba(0, 255, 0, 0.3);
                    box-sizing: border-box;
                    pointer-events: none;
                    top: 49%;
                    left: 8%;
                    width: 27%;
                    height: 7%;
                  "
                >
                </div>
                <div
                  class="fragment"
                  data-fragment-index=3
                  style="
                    position: absolute;
                    background-color: rgba(0, 0, 255, 0.3);
                    box-sizing: border-box;
                    pointer-events: none;
                    top: 25%;
                    left: 7%;
                    width: 35%;
                    height: 12%;
                  "
                >
                </div>
              </div>
              <p class="fragment" data-fragment-index=5 style="margin-bottom: 0;"><strong style="color: #7771a1;">Identity</strong>: the exact same object</p>
              <p class="fragment" data-fragment-index=4 style="margin-bottom: 0;"><strong style="color: #72ae61;">Equality</strong>: an equivalent object</p>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - If I'm in the market to buy a washing machine, **(CLICK)** I might ask "what's the model number?" **(CLICK)**
            - Because I'm hoping to look up reviews for what *should be* equivalent devices.
            - But if I need to call customer support to report an issue, I might give them **(CLICK)** the serial number.
            - The serial number uniquely identifies the machine.
            - Equality checks are a like a comparison of model numbers... **(CLICK)** they ask whether two objects represent the same thing.
            - Identity checks are like a comparison of serial numbers... **(CLICK)** they ask whether two objects are identical... meaning they aren't even two objects... they are *the same exact object*
            - Though really...
            - identity isn't *about objects* at all... it's actually a way to ask whether two *names* point to the same place
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=5>Equality is about objects</h3>
          <h3 class="fragment" data-fragment-index=6>Identity is about pointers</h3>
          <pre class="python" style="margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>first == second  <strong class="fragment" data-fragment-index=2># Are these objects equal to the other?</strong>
True
>>> </span><span class="fragment" data-fragment-index=3>first is second  <strong class="fragment" data-fragment-index=4># Do these variables point to the same object?</strong>
True</span></code></pre>
          <aside class="notes" data-markdown>
            - If we have two variables, `first`, and `second`, and we ask whether they **(CLICK)** are *equal*, we're asking whether they have the same value... this asks **(CLICK)** the *objects* whether they represent the same thing
            - If we ask whether these variables **(CLICK)** are *identical* we're asking whether **(CLICK)** they both point to the same object
            - unlike equality, identity doesn't ask any question of the object itself.
            - So **(CLICK)** equality compares the values of objects, while **(CLICK)** identity compares references to those objects to see whether they're the same reference
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=3 style="margin-top: -1em;"><strong>Equality</strong>:<br>the usual way to ask<br>&ldquo;are they the same?&rdquo;</h3>
          <pre class="python fragment" data-fragment-index=1 style="font-size: 30px; line-height: 40px; width: 50%; margin: 1em auto;"><code data-trim data-noescape>
value is None
          </code></pre>
          <pre class="python fragment" data-fragment-index=2 style="font-size: 30px; line-height: 40px; width: 50%; margin: 1em auto;"><code data-trim data-noescape>
value == another_value
          </code></pre>
          <aside class="notes" data-markdown>
            - The `is` operator is *very* rarely used outside of comparisons to **(CLICK)** `None`
            - When we ask "are they the same?" we usually **(CLICK)** want the double-equals operator.
            - **(CLICK)** Checking equality is much more common than checking identity
            - TODO put time here for the sake of a pause
          </aside>
        </section>

      </section>
      <section>
        <!-- section: containment -->
        <!-- SECTION TIME: 7 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=2>Objects</h1>
          <h2 class="fragment current-visible" data-fragment-index=1>Variables</h2>
          <aside class="notes" data-markdown>
            - We have been talking mostly about **(CLICK)** variables and how they work
            - We haven't really discussed how **(CLICK)** objects work
            - Let's start inspecting objects, by playing with Python's data structures
          </aside>
        </section>

        <section>
          <h2 style="margin-top: -2em;" class="fragment current-visible" data-fragment-index=12>&ldquo;Change&rdquo;</h2>
          <h2 class="fragment" data-fragment-index=13>&ldquo;Contains&rdquo;</h2>
          <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> <span class="fragment" data-fragment-index=1>row = [0, 0, 0]
>>> </span><span class="fragment" data-fragment-index=3>boat = [row, row, row]
>>> </span><span class="fragment" data-fragment-index=5>boat</span><span class="fragment" data-fragment-index=6>
[[0, 0, 0], <span class="fragment bold-current" data-fragment-index=9>[0, 0, 0]</span>, [0, 0, 0]]
>>> </span><span class="fragment" data-fragment-index=7>boat[1][1] = 1
>>> </span><span class="fragment" data-fragment-index=8>boat</span><span class="fragment" data-fragment-index=10>
[[0, 1, 0], [0, 1, 0], [0, 1, 0]]
>>> </span><span class="fragment" data-fragment-index=11>row
[0, 1, 0]</span></code></pre>
          <aside class="notes" data-markdown>
            - Let's make a 3-item list and call it `row` **(CLICK)**
            - Then we'll make another list, called `boat`, that contains `row`, `row`, and `row` **(CLICK)**
            - So the `boat` list **(CLICK)** contains **(CLICK)** 3 lists which each containing `0` 3 times
            - If we assign to index `1` within index `1` in the `boat` list... **(CLICK)**
            - What changes? **(CLICK)**...
            - Index `1` is the middle item in `boat`, **(CLICK)** which is a list...
            - And index `1` in that sub-list is its middle item...
            - So we changed the middle item in the middle list... **(CLICK)**
            - ... sort of
            - It looks like we changed a bit more than that
            - Every sub-list within `boat` changed
            - In fact, **(CLICK)** even `row` changed
            - I've been using the word **(CLICK)** "change" here
            - ... which, as we discussed, can be a tricky word
            - But I also used... the word "contains" **(CLICK)**
            - The word "contains" can *also* cause confusion
            - Data structures don't actually *contain* objects
            - Let's take a look at what's going on here by revisiting 2 of our mental models from before...
          </aside>
        </section>

        <section>
          <h2>Sticky Notes</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape style="font-size: 25px; line-height: 30px;">
>>> first = []
>>> second = first
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span class="fragment" data-fragment-index=1>rows = [second]
>>> </span><span class="fragment" data-fragment-index=3>lists = rows</span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 120" style="overflow: visible; width: 400px;">
                <!-- Empty list object -->
                <rect x="20" y="20" width="160" height="80" fill="white" stroke="black" stroke-width="2" rx="5" ry="5"/>
                <text x="100" y="70" font-size="24" text-anchor="middle" fill="black">[<tspan>9</tspan>]</text>

                <!-- First sticky note -->
                <g transform="rotate(-15 30 30)">
                <rect x="10" y="0" width="60" height="60" fill="#FFFF88" stroke="#E6E600" stroke-width="1"/>
                <path d="M10 0 L70 0 L70 10 Q60 5 50 10 Q40 15 30 10 Q20 5 10 10 Z" fill="#FFFF66"/>
                <text x="40" y="35" font-size="12" text-anchor="middle" fill="black">first</text>
                </g>

                <!-- Second sticky note -->
                <g transform="rotate(15 170 30)">
                <rect x="130" y="0" width="60" height="60" fill="#FF9999" stroke="#FF6666" stroke-width="1"/>
                <path d="M130 0 L190 0 L190 10 Q180 5 170 10 Q160 15 150 10 Q140 5 130 10 Z" fill="#FF8888"/>
                <text x="160" y="35" font-size="12" text-anchor="middle" fill="black">second</text>
                </g>

                <!-- Third sticky note -->
                <g transform="rotate(-15 30 90)" class="fragment" data-fragment-index=2>
                <rect x="10" y="60" width="60" height="60" fill="#88FF88" stroke="#66E666" stroke-width="1"/>
                <path d="M10 60 L70 60 L70 70 Q60 65 50 70 Q40 75 30 70 Q20 65 10 70 Z" fill="#88FF66"/>
                <text x="40" y="95" font-size="12" text-anchor="middle" fill="black">rows[0]</text>
                </g>

                <!-- Fourth sticky note -->
                <g transform="rotate(5 170 80)" class="fragment" data-fragment-index=4>
                <rect x="150" y="60" width="60" height="60" fill="#9966FF" stroke="#6666FF" stroke-width="1"/>
                <path d="M150 60 L210 60 L210 70 Q200 65 190 70 Q180 75 170 70 Q160 65 150 70 Z" fill="#8888FF"/>
                <text x="180" y="95" font-size="12" text-anchor="middle" fill="black">lists[0]</text>
                </g>
              </svg>

            </div>
          </div>
          <aside class="notes" data-markdown>
            - First we'll take another look at our sticky note mental model
            - What should happen **(CLICK)** if we put our `second` list inside another list?...
            - Should we **add another sticky note** that says **(CLICK)** which list it's in and which index it's at?
            - Also... what if we point **(CLICK)** another variable to that new outer list?
            - Would we need to add yet *another* note with another name and another index? **(CLICK)**
            - This *does* work, but it seems a bit complicated
            - This sticky note mental model works *well* for explaining how **variables** in Python work...
            - But it doesn't work well for explaining how **objects** work
            - Let's take a look at how our pointers mental model works in this scenario...
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <h2>Pointers</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=4>first = []
>>> </span><span class="fragment" data-fragment-index=6>second = first
>>> <span class="fragment" data-fragment-index=8>second.append(9)
>>> </span><span class="fragment" data-fragment-index=10>second
[9]
>>> </span><span class="fragment" data-fragment-index=11>first
[9]
>>> </span><span style="visibility: hidden;">rows = [second]
>>> </span>
            </code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g class="fragment" data-fragment-index=5>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=7>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g class="fragment" data-fragment-index=9>
                  <path d="M 353 40 L 330 40 L 330 90 L 353 90" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 390 40 L 390 90 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="341" y="68.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,341.5,65)">int</text>
                  <text x="370" y="68" fill="#000" font-size="13px" text-anchor="middle" class="fragment bold-current" data-fragment-index=13>9</text>

                  <path d="M 287.5 95 L 324.8 68.67" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 329.09 65.64 L 325.39 72.54 L 324.8 68.67 L 321.35 66.82 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <rect x="262.5" y="85" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle" class="fragment bold-current" data-fragment-index=12>0</text>
                </g>
                <g style="visibility: hidden;">
                  <rect x="20" y="179" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="207" fill="#000" font-size="13px" text-anchor="middle">rows</text>
                  <path d="M 140 205 L 213.63 205" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 218.88 205 L 211.88 208.5 L 213.63 205 L 211.88 201.5 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 267.5 195 L 285.86 126.15" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 287.21 121.08 L 288.79 128.75 L 285.86 126.15 L 282.03 126.94 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <path d="M 243 180 L 220 180 L 220 230 L 243 230" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 300 180 L 300 230 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="231" y="208.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,231.5,205)">list</text>
                  <rect x="255" y="194" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="267" y="208.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - When we assign the `first` variable **(CLICK)** to an empty list, we draw an arrow **(CLICK)** from the variable to the object
            - Then when we assign **(CLICK)** another variable to the first one, we draw another arrow **(CLICK)** from the second variable to the same object
            - So if we **(CLICK)** modify the second list **(CLICK)**...
            - The second list changes **(CLICK)** and so does the first **(CLICK)** because *they're the same list*
            - But wait... our diagram before didn't look quite like this...
            - This time, our list has an **arrow pointing to an integer**... why is that?
            - Well, **variables don't contain objects**, but objects *also* don't contain objects
            - Objects can only *point* to objects, so the list's index `0` **(CLICK)** points to the integer `9` **(CLICK)**
            - That's also why...
          </aside>
        </section>

        <section data-transition="none-in slide-out">
          <h2>Pointers</h2>
          <div style="display: grid; grid-auto-flow: column;">
            <pre class="python"><code data-trim data-noescape>
>>> first = []
>>> second = first
>>> second.append(9)
>>> second
[9]
>>> first
[9]
>>> <span class="fragment" data-fragment-index=9>rows = [second]
>>> 
            </span></code></pre>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="500" height="299" viewBox="0 0 421 251">
                <g>
                <path d="M 200 23 L 200 0 L 420 0 L 420 23" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 200 250 L 420 250 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <path d="M 200 23 L 420 23" fill="none" stroke="#6c8ebf" stroke-miterlimit="10"/>
                <text x="309.5" y="15" fill="#000" text-anchor="middle" font-size="12px">Object Land</text>
                </g>
                <g>
                <path d="M 0 23 L 0 0 L 160 0 L 160 23" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 0 250 L 160 250 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <path d="M 0 23 L 160 23" fill="none" stroke="#9673a6" stroke-miterlimit="10"/>
                <text x="79.5" y="15" fill="#000" text-anchor="middle" font-size="13px">Variable Land</text>
                </g>
                <g>
                  <path d="M 250.5 70 L 227.5 70 L 227.5 120 L 250.5 120" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 307.5 70 L 307.5 120 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 250.5 70 L 250.5 120" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="238.5" y="98.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,239,95)">list</text>

                  <rect x="20" y="39" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="67" fill="#000" font-size="13px" text-anchor="middle">first</text>
                  <path d="M 140 65 L 221.26 81.25" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.4 82.28 L 218.85 84.34 L 221.26 81.25 L 220.23 77.48 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <rect x="20" y="109" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="137" fill="#000" font-size="13px" text-anchor="middle">second</text>
                  <path d="M 140 135 L 221.42 109.41" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 226.43 107.84 L 220.8 113.27 L 221.42 109.41 L 218.71 106.6 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                </g>
                <g>
                  <path d="M 353 40 L 330 40 L 330 90 L 353 90" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 390 40 L 390 90 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 353 40 L 353 90" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="341" y="68.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,341.5,65)">int</text>
                  <text x="370" y="68" fill="#000" font-size="13px" text-anchor="middle">9</text>

                  <path d="M 287.5 95 L 324.8 68.67" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 329.09 65.64 L 325.39 72.54 L 324.8 68.67 L 321.35 66.82 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <rect x="262.5" y="85" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="274" y="98.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
                <g class="fragment" data-fragment-index=10>
                  <rect x="20" y="179" width="120" height="50" fill="#e1d5e7" stroke="#9673a6"/>
                  <text x="79" y="207" fill="#000" font-size="13px" text-anchor="middle">rows</text>
                  <path d="M 140 205 L 213.63 205" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 218.88 205 L 211.88 208.5 L 213.63 205 L 211.88 201.5 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 267.5 195 L 285.86 126.15" fill="none" stroke="#000" stroke-miterlimit="10"/>
                  <path d="M 287.21 121.08 L 288.79 128.75 L 285.86 126.15 L 282.03 126.94 Z" fill="#000" stroke="#000" stroke-miterlimit="10"/>

                  <path d="M 243 180 L 220 180 L 220 230 L 243 230" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 300 180 L 300 230 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <path d="M 243 180 L 243 230" fill="none" stroke="#82b366" stroke-miterlimit="10"/>
                  <text x="231" y="208.5" fill="#000" text-anchor="middle" font-size="13px" transform="rotate(-90,231.5,205)">list</text>
                  <rect x="255" y="194" width="25" height="20" fill="none" stroke="#000"/>
                  <text x="267" y="208.5" fill="#00f" font-size="13px" text-anchor="middle">0</text>
                </g>
              </svg>
            </div>
          </div>
          <aside class="notes" data-markdown>
            - ... if we **(CLICK)** put our list inside another list, we'll be **(CLICK)** pointing one of the indexes in that **new list** to *our* **existing** list
            - Variables **can point** to objects and objects *can point* to **other objects**.
            - But nothing **ever** points to variables.
            - Variables are just a name that refers to an object
            - ...
            - This "pointers" mental model *is* a bit more **complex** than the sticky note model, but it **stretches** a bit further
            - The **indirection** between variables and objects **is tricky**, but it also makes it easier to understand how **data structures** work.
          </aside>
        </section>

        <section>
          <h1 class="fragment">Containment</h1>
          <h2 class="fragment">... is a lie</h2>
          <aside class="notes" data-markdown>
            - In Python, "containment" **(click)** is a slightly misleading term
            - **(CLICK)**
            - Data structures don't actually contain data
            - Data structures contain references to data
            - But this...
          </aside>
        </section>

        <section data-transition="slide-in none-out">
          <pre class="python fragment" data-fragment-index=1><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=2>class TodoList:
...     def __init__(self, tasks):
...         self.tasks = tasks
... 
...     def add_task(self, task):
...         self.tasks.append(task)
...
>>> </span><span class="fragment" data-fragment-index=3>default_todos = ["Reflect on last week"]
>>> </span><span class="fragment fade-out" data-fragment-index=10><span class="fragment" data-fragment-index=4>mon = TodoList(default_todos)
>>> </span><span class="fragment" data-fragment-index=5>tue = TodoList(default_todos)
>>> </span><span class="fragment" data-fragment-index=6>mon.add_task("Work on talk")
>>> </span><span class="fragment" data-fragment-index=7>mon.tasks
['Reflect on last week', 'Work on talk']
>>> </span><span class="fragment" data-fragment-index=8>tue.tasks</span><span class="fragment" data-fragment-index=9>
['Reflect on last week', 'Work on talk']</span></span>
<br>
          </code></pre>
          <aside class="notes" data-markdown>
            - ...isn't just about data structures... this is about pretty much *every object in Python* **(CLICK)**
            - Let's say we make *our own* objects using a class **(CLICK)**
            - This class accepts a list and stores that list as an attribute on our class instances
            - If we pass **(CLICK)** the same list **(CLICK)** into this class twice... **(CLICK)**
            - We'll end up with two class instances that have the same attribute
            - But what if we mutate the `tasks` list **(CLICK)** for one of those two objects? **(CLICK)**
            - Will that affect **(CLICK)** the *other* instance?
            - ...
            - It will! **(CLICK)**
            - Attributes, like variables, don't *contain* objects... they *point* to objects
            - This might seem like a *really* big issue... **(CLICK)**
            - But this problem has a pretty common solution
          </aside>
        </section>

        <section data-transition="none-in none-out">
          <pre class="python"><code data-trim data-noescape>
>>> <span>class TodoList:
...     def __init__(self, tasks):
...        #self.tasks = tasks
...         self.tasks = <span class="fragment bold-current">list(tasks)</span>  # shallowly copy the list
...     def add_task(self, task):
...         self.tasks.append(task)
...
>>> default_todos = ["Reflect on last week"]
>>> </span><span class="fragment">mon = TodoList(default_todos)
>>> tue = TodoList(default_todos)
>>> </span><span class="fragment">mon.add_task("Work on talk")
>>> </span><span class="fragment">mon.tasks
['Reflect on last week', 'Work on talk']
>>> </span><span class="fragment">tue.tasks
['Reflect on last week']
>>> </span><span class="fragment">wed = TodoList({"Here is", "a set", "of tasks"})</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - For this class, we could use **(CLICK)** the `list` constructor to copy the passed-in list
            - Now when we make **(CLICK)** two instances of our class by passing in the *same* list twice...
            - Modifying the `tasks` list **(CLICK)** of one instance **(CLICK)**
            - Will *not* affect the `tasks` list **(CLICK)** of the other
            - Also, this class now also accepts not just lists, but sets, generators, or *any* iterable
            - ... because the `list` constructor **(CLICK)** will loop over any iterable you give to it to make a new list
            - So for many classes that are meant to change the data that's passed-in to them, that data is often copied when a new instance is initialized
          </aside>
        </section>

        <section>
          <h2>Objects don't contain objects</h2>
          <ul>
            <li class="fragment">Variables point to objects</li>
            <li class="fragment">Objects can contain pointers to objects</li>
            <li class="fragment">A list-of-lists is a list of pointers to lists</li>
            <li class="fragment">
              <strong><code>x in y</code></strong> loops over <strong><code>y</code></strong> checking equality with <strong><code>x</code></strong>
            </li>
          </ul>
          <aside class="notes" data-markdown>
            - Variables don't contain objects... **(CLICK)** they only contain pointers to objects
            - But objects also don't contain objects...
            - Whether we're talking about indexes and attributes, **(CLICK)** objects only contain pointers to objects
            - So when we say we've made a list-of-lists
            - We actually mean **(CLICK)** that we've made a list where each item acts as pointer to another list
            - And if ask whether our list contains a specific object...
            - **(CLICK)** We're actually asking whether our list contains a reference to an equivalent object
          </aside>
        </section>

      </section>
      <section>
        <!-- section: mutating assignments -->
        <!-- SECTION TIME: 3 minutes -->

        <section>
          <h1 class="fragment" data-fragment-index=7>Assignments happen</h1>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>n = 3
>>> </span><span class="fragment" data-fragment-index=2>from math import pi
>>> </span><span class="fragment" data-fragment-index=3>for n in range(5):
...     ...
...
>>> </span><span class="fragment" data-fragment-index=4>n
4
>>> </span><span class="fragment" data-fragment-index=5>def pi(): return 3.14159
...
>>> </span><span class="fragment" data-fragment-index=6>class pi: pass
...</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - TODO cut or shorten this slide?
            - So assignments change which object a variable points to
            - And this **(CLICK)** is what an assignment looks like
            - But this isn't the *only* way an assignment might look
            - Import statements **(CLICK)** also perform an assignment
            - And so does each iteration **(CLICK)** of a `for` loop **(CLICK)**
            - And so do function definitions **(CLICK)** and class definitions **(CLICK)**
            - Anything that updates what a name points to **(CLICK)** performs some sort of assignment
          </aside>
        </section>

        <section>
          <h3 class="fragment" data-fragment-index=2>Augmented Assignments</h3>
          <p class="fragment" data-fragment-index=1>
          <strong><code>+=</code></strong>, <strong><code>-=</code></strong>, <strong><code>*=</code></strong>, etc.
          </p>
          <p class="fragment" data-fragment-index=3>Are these assignments?</p>
          <p class="fragment" data-fragment-index=4>Are these mutations?</p>
          <h1 class="fragment" data-fragment-index=5>YES</h1>
          <aside class="notes" data-markdown>
            - But what about `+=` and `-=`? **(CLICK)**
            - These are often called **(CLICK)** augmented assignments...
            - But do these **(CLICK)** perform an assignment?
            - Or do they **(CLICK)** mutate an object?
            - Well...  **(CLICK)**
            - It depends.
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=7>In-place addition</h2>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>a = [2, 1, 3]
>>> </span><span class="fragment" data-fragment-index=2>b = a
>>> </span><span class="fragment" data-fragment-index=3>b += [4, 7, 11]
>>> </span><span class="fragment" data-fragment-index=4>b
[2, 1, 3, 4, 7, 11]
>>> <span class="fragment" data-fragment-index=5>a</span><span class="fragment" data-fragment-index=6>
[2, 1, 3, 4, 7, 11]</span></code></pre>
          <aside class="notes" data-markdown>
            - Let's say we have two variables, `a` **(click)** and `b` **(click)** that both point to the same list
            - If we use `+=` **(click)** to add more elements to `b` **(click)**
            - ... what happens to `a`? **(click)**
            - Did `a` change or is it still the same?
            - When we look at the variable `a`, we'll see that it *changed* **(click)**
            - Augmented assignments actually perform a *mutation*
            - So using `+=` on a list doesn't make a new list... it *mutates* the existing list
            - That's why `+=` is often called an in-place addition **(click)**
            - In-place operations are *designed* to mutate
          </aside>
        </section>

        <section>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>name = "North Bay Python"
>>> </span><span class="fragment" data-fragment-index=2>name += " 2025"  <span class="fragment" data-fragment-index=4># name = name + "2025"</span>
>>> </span><span class="fragment" data-fragment-index=3>name
'North Bay Python 2025'</span></code></pre>
          <aside class="notes" data-markdown>
            - But wait... doesn't `+=` work on strings? **(click)**
            - Strings is Python are immutable...
            - Which means you can't *change* a string object
            - But strings work with `+=`... **(click)**
            - If `+=` is an *in-place* addition, how does it work on strings? **(click)**
            - Well, augmented assignments *can* perform a mutation, but they don't *have* to... it's up to the object that they're operating on
            - If an object doesn't specially handle `+=` then **(click)** Python falls back to using the `+` operator and a plain old assignment
            - The distinction between assignments and mutations isn't always very clear... augmented assignments do perform an assignment, but they can also mutate.
            - But this assignment or mutation fuzziness comes up in other ways too **(CLICK)**
          </aside>
        </section>

        <section>
          <h2>Assignments that mutate</h2>
            <pre class="python"><code data-trim data-noescape>
<span class="fragment">>>> some_object.attribute = 4
>>> </span><span class="fragment">numbers[0] = 8</span>
            </code></pre>
          <aside class="notes" data-markdown>
            - Assigning to an attribute *is* an assignment... **(CLICK)** but it mutates the object that the attribute lives on
            - And assigning to a list index mutates the list **(CLICK)**
            - These *are* assignment statements, but these *also* mutate an object... modifying where an *attribute* or an *index* points to mutates the object that the attribute or the index lives within.
          </aside>
        </section>

        <section>
          <h2>Assignments can mutate</h2>
          <ul>
            <li class="fragment">Assignments change the object a reference refers to</li>
            <li class="fragment">Objects can contain references to other object</li>
            <li class="fragment">Assigning to an object attribute/index mutates the object</li>
          </ul>
          <aside class="notes" data-markdown>
            - Assignments **(CLICK)** change which object a pointer is pointing to...
            - But when our assignment target is an index, a key, or an attribute, that pointer lives *within* an object
            - And since the *containing* objects **(CLICK)** can contain references to other objects.
            - When we change those references, through an assignment, **(CLICK)** that requires mutating the containing object
            - Speaking of mutating objects... let's talk about tuples
          </aside>
        </section>

      </section>
      <section>
        <!-- section: mutable tuples -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1 class="fragment data-fragment-index=3">Changing tuples</h1>
          <h2 data-fragment-index=1>Tuples cannot be mutated<span class="fragment" data-fragment-index=2>*</span></h2>
          <p class="fragment" data-fragment-index=2>* For some definitions of "mutate"</p>
          <aside class="notes" data-markdown>
            - Once you've made a tuple, you can't change it
            - ... **(click)**
            - Or can you?
            - **(click)** You *can't* mutate a tuple
            - But you *can* change the value of a tuple
          </aside>
        </section>

        <section>
          <h2>Tuples can contain lists</h2>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> <span class="fragment" data-fragment-index=1>result = (True, [2, 1, 3])
>>> </span><span class="fragment" data-fragment-index=2>result[1].append(4)</span><span class="fragment" data-fragment-index=3>
>>> </span><span class="fragment" data-fragment-index=4>result
(True, [2, 1, 3, 4])</span></code></pre>
          <aside class="notes" data-markdown>
            - If we **(CLICK)** can put a list inside of a tuple
            - What would happen if we try to *change* that list **(click)**, by appending a new item to it?
            - Python allows this... **(CLICK)**
            - If you can get a reference to a mutable object, you can mutate it
            - But... **(CLICK)** this also seems to change our tuple
            - And yet, tuples are supposed to be immutable...
            - Are they?
          </aside>
        </section>

        <section>
          <h2 class="fragment" data-fragment-index=9>Immutability is shallow</h2>
          <pre class="python" style="width: 60%;"><code data-trim data-noescape>
>>> result = (True, [2, 1, 3])
>>> result2 = (True, [2, 1, 3])
>>> <span class="fragment" data-fragment-index=3>result == result2
True
>>> </span><span class="fragment" data-fragment-index=5>result[1].append(4)
>>> </span><span class="fragment" data-fragment-index=6>result
(True, [2, 1, 3, 4])
>>> </span><span class="fragment" data-fragment-index=7>result == result2
False</span></code></pre>
          <aside class="notes" data-markdown>
            - If we make 2 equal tuples **(CLICK)**
            - And we mutate an object **(CLICK)** that one of those tuples contains
            - That *will* change the value **(CLICK)** of the tuple
            - Meaning, the tuples **(CLICK)** aren't equal anymore
            - Tuples *are* immutable... **(CLICK)**
            - But any immutable object that can store a reference to a mutable object can potentially have its value change
            - In other words, immutability is a shallow concept...
            - We can't directly change a tuple, but we *can* change objects that tuples refer to... and since objects affect the *value* of the tuple...
            - That means that tuples that contain mutable objects aren't entirely immutable
          </aside>
        </section>

      </section>
      <section>
        <!-- section: conclusion -->

        <section>
          <h2>It's pointers all the way down 🐢</h2>
          <ul>
          <li class="fragment">Variables store object references</li>
          <li class="fragment">Objects store object references</li>
          <li class="fragment">Immutable containers can change</li>
          </ul>
          <aside class="notes" data-markdown>
            - In Python, variables don't contain objects... they only *point* to objects
            - Put another way, **(CLICK)** Variables store *references* to objects
            - Also, objects **(CLICK)** can store references to other objects
            - But objects *can't contain* objects
            - And **(CLICK)** immutable objects that contain references to *mutable* objects are only *kind of* immutable
            - So given what we've learned about how variables and objects work in Python...
          </aside>
        </section>

        <section data-transition="none">
          <pre class="python" style="width: 45%;"><code data-trim data-noescape>
>>> x = []
>>> <span class="fragment">x.append(x)
>>> </span><span class="fragment">x</span><span class="fragment">
[[...]]</span><span style="opacity: 0;">
>>> x in x
True
>>> x[0] is x
True</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - If we take an empty list, called `x`
            - And we call **(CLICK)** `x.append(x)`
            - What would **(CLICK)** `x` be...
            - This won't end up being a list containing an empty list...
            - Instead, we'll get something that looks like **(CLICK)** a list that contains itself...
          </aside>
        </section>

        <section data-background-image="ouroboros-background.png" data-transition="none">
          <pre class="python" style="width: 45%;"><code data-trim data-noescape>
>>> x = []
>>> x.append(x)
>>> x
[[...]]
<span class="fragment" data-fragment-index=1>>>> x[0] is x
True</span>
<span class="fragment" data-fragment-index=2>>>> x in x
True</span>
          </code></pre>
          <aside class="notes" data-markdown>
            - ... sort of
            - But as we know, data structures don't *contain* objects, they contain references to objects
            - So this list contains a **reference** to itself **(CLICK)**
            - We have just made an infinitely recursive data structure **(CLICK)**
            - This is possible because objects in Python don't contain other objects
            - Both variables and objects can only contain *references* to objects
            - So there's nothing stopping a list from contain a reference to itself
          </aside>
        </section>

      </section>
      <section>
        <!-- section: why -->
        <!-- SECTION TIME: 2 minutes -->

        <section>
          <h1 style="margin-top: -0.2em;" class="fragment" data-fragment-index=1>We didn't discuss</h1>
          <ul>
          <li class="fragment" data-fragment-index=2>Variable scope in Python</li>
          <li class="fragment" data-fragment-index=3>Hashability and its relation to immutability</li>
          <li class="fragment" data-fragment-index=4>CPython optimizations that affect identity</li>
          <li class="fragment" data-fragment-index=5>Direct value storage of array, data frames, etc.</li>
          <li class="fragment" data-fragment-index=6>Mutable default argument gotchas</li>
          <li class="fragment" data-fragment-index=7>Python oddities related to variables and objects</li>
          </ul>
          <h2 style="margin-top: 0.2em;" class="fragment" data-fragment-index=8><a href="https://trey.io/nbpy2025">https://trey.io/nbpy2025</a></h2>
          <p style="font-size: 0.9em;" class="fragment" data-fragment-index=9><a href="https://pyvideo.org/pyohio-2011/pyohio-2011-names-objects-and-plummeting-from.html">Names, Objects, and Plummeting From The Cliff</a> - Brandon Rhodes</p>
          <p style="font-size: 0.9em;" class="fragment" data-fragment-index=9><a href="https://nedbatchelder.com/text/names1.html">Facts and Myths about Names and Values</a> - Ned Batchelder</p>

          <aside class="notes" data-markdown>
            - There are *many* odd corners of this topic that we didn't cover today.
            - For example, **(CLICK)** we didn't discuss...
            - **(CLICK)** Variable scope within Python
            - **(CLICK)** Hashability
            - **(CLICK)** Optimizations around numbers, strings, and tuples
            - **(CLICK)** Arrays and direct value storage
            - **(CLICK)** Mutable default arguments
            - **(CLICK)** And various reference-based gotchas
            - ...
            - **(CLICK)** This URL, which is on the bottom of each slide in this talk, includes links to resources on some of these topics as well as **(CLICK)** 2 great talks by other Python community members
            - ...
            - Before we wrap up... I do want to address a common question...
          </aside>
        </section>

        <section>
          <h1 class="fragment fade-out" data-fragment-index=1>But... why?</h1>
          <h2 class="fragment" data-fragment-index=1>Imagine an alternative...</h2>
          <p class="fragment" data-fragment-index=2>Would every assignment statement make a copy?</p>
          <p class="fragment" data-fragment-index=3>Would storing a reference to an object ever be possible?</p>
          <p class="fragment" data-fragment-index=4 style="margin-left: 1em;">"reference assignments" and "copying assignments" <span class="fragment" data-fragment-index=5>😬</span></p>
          <aside class="notes" data-markdown>
            - *Why* does Python work this way?
            - Wouldn't it be easier if variables and data structures contained objects and assignments copied the objects we were assigning to
            - Well... **(CLICK)**
            - Imagine if every assignment made a copy of an object **(CLICK)**
            - Copying objects all the time takes time and it takes memory
            - But also, how would we ever model parent-child relationships **(CLICK)** or any kind of relationship that involved storing a *reference* to an object instead of a copy of an object?
            - Would we need to make a distinction **(CLICK)** between assignments that copied and assignments that made a reference...
            - Other programming languages have done that before...
            - And... **(CLICK)** that requires adding another layer of complexity to the language
            - ...
            - Python's way isn't necessarily the *right* way... but *most days* I really appreciate the trade-offs that Python made around this topic
          </aside>
        </section>

        <section>
          <h1 class="fragment" data-fragment-index=2>This thing is bad</h1>
          <h2 class="fragment" data-fragment-index=3>Compared to what alternative?</h2>
          <h3 class="fragment" data-fragment-index=1>Everything is a trade-off</h3>
          <aside class="notes" data-markdown>
            - Python's separation between variables and objects can *definitely* be confusing, but it's a pretty decent approach to a hard problem
            - Every decision **(CLICK)** has trade-offs and *everything* is relative to its possible alternatives
            - Whether we're talking about a software feature or about politics, when we say **(CLICK)** "This thing is bad", we should *always* ask ourselves **(CLICK)** "compared to what?"
            - We *should* acknowledge problems with the status quo, but we also need to think deeply and honestly about real world outcomes
          </aside>
        </section>

      </section>
      <section style="text-align: left;" data-background="#663399" data-background-transition="slide" data-transition="slide">
        <h2 style="margin-top: 0.5em;">Resources &nbsp; <a href="https://trey.io/nbpy2025">https://trey.io/nbpy2025</a></h2>
        <h3 style="margin-top: 1.5em;">
          Thank you<br>
        </h3>
        <div style="margin-top: 2.5em;">
          <p style="float: left; margin-right: 2em;">
            <strong>Trey Hunner</strong><br>
            <small>Python Team Trainer<br>
              <strong>trey@PythonMorsels.com</strong></small>
          </p>
          <p style="float: left;">
          <a href="http://truthful.technology"><img src="horizontal-training-logo.svg" class="no-style logo"></a>
          <a href="http://pythonmorsels.com"><img src="horizontal-morsels-logo.svg" class="no-style logo"></a>
          </p>
          <div style="clear: both;"></div>
        </div>
        <aside class="notes" data-markdown>
          - ...
          - Thank you
        </aside>
      </section>

      </section>
      <section>
        <!-- section: cutting room floor -->

        <section>
          <h1 class="fragment">Unhashable tuples</h1>
          <pre class="python" style="width: 60%; margin: 1em auto;"><code data-trim data-noescape>
>>> p = (3, 4)
>>> points = {p}
>>> points
{(3, 4)}
>>> result = (True, [])
>>> results = {result}
Traceback (most recent call last):
  File "&lt;python-input-5>", line 1, in &lt;module>
    results = {result}
              ^^^^^^^^
TypeError: unhashable type: 'list'
>>> hash([])
Traceback (most recent call last):
  File "&lt;python-input-6>", line 1, in &lt;module>
    hash([])
    ~~~~^^^^
TypeError: unhashable type: 'list'
          </code></pre>
          <aside class="notes" data-markdown>
            - fix all this...

            - Here is an immutable tuple
            - This tuple can be used in a set because it's both immutable and hashable
            - Here is a somewhat immutable tuple
            - This tuple is unhashable, so it cannot be used in a set
            - Individual tuples are only hashable if all of the items they contain are hashable
            - Lists, and most other mutable objects, are *not* hashable
            - Typically if the value of an object can change, meaning it could be become unequal to an object that it *was* equal to previously... then that object should not be hashable
            - A tuple can never change *which* objects it has within, but it's possible that the objects it contains could be mutated
            - So because tuples can contain references to mutable objects it *is* possible to make a tuple is *sort of* mutable


            - Tuples
            - Immutability is a fuzzy concept... some tuples aren't quite immutable
                - Specifically, if a tuple contains object that isn't hashable, then it isn't hashable
                - What does hashable mean? Well, the hash of an object is *sort of* a representation of the *value* of that object.
                - Objects that are hashable must *never* change their hash value over the lifetime of that object... and equality and hashable should correspond to each other, meaning if two objects hashable objects are equal they should have the hash value.  So a hashable object can never change its sense of equality. That's why some tuples are unhashable.

          </aside>
        </section>

        <section data-transition="none">
          <h2>Gotchas with Variables and Values</h2>
          <aside class="notes" data-markdown>
            - 
          </aside>
        </section>

        <section data-transition="none">
          <h2>Self-concatenation</h2>
          <pre class="python"><code data-trim data-noescape>
>>> rows = [[0] * 3] * 3
>>> rows
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
>>> rows[1][1] = 1
>>> rows
[[0, 1, 0], [0, 1, 0], [0, 1, 0]]
          </code></pre>
          <aside class="notes" data-markdown>
            - This fact that objects don't contain objects is the reason behind a number of Python oddities
            - If we try to use self-concatenation to make a list-of-lists...
            - And then we change the middle element of the middle list...
            - We'll see that the middle element of *all* the lists changes
            - Because self-concatenation doesn't copy anything... it just refers to the same object multiple times
            - So using it with mutable objects doesn't work well
          </aside>
        </section>

        <section>
          <h1 class="fragment">Augmented assignments in tuples</h1>
          <pre class="python fragment" data-fragment-index=1 style="margin: 1em auto;"><code data-trim data-noescape>
>>> result = (True, [2, 1, 3, 4])
>>> result[1] += [7, 11, 18]
Traceback (most recent call last):
  File "&lt;stdin>", line 1, in &lt;module>
    result[1] += [7, 11, 18]
    ~~~~~~^^^
TypeError: 'tuple' object does not support item assignment
>>> result
(True, [2, 1, 3, 4, 7, 11, 18])
          </code></pre>
          <aside class="notes" data-markdown>
            - So what would this in-place addition do?
            - We're trying to mutate a list that's contained within a tuple by using the `+=` operator
            - Would this mutate the list?
            - Or would it give us error?
          </aside>
        </section>

        <section>
          <blockquote style="box-shadow: none; font-size: 1.5em;">
            “All <span class="fragment bold" data-fragment-index=1>models</span> are wrong,<br>but some <span class="fragment bold" data-fragment-index=1>models</span> are useful.”
            <nobr>&mdash; George E. P. Box</nobr>
          </blockquote>
          <aside class="notes" data-markdown>
            - Mental models are *wonderful* for **anchoring** *your understanding* of **some small piece** of the world within a **metaphor**.
            - But a mental model is **just that**... a *model* **(CLICK)**
            - All models have their **boundaries**
          </aside>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/truthful.js"></script>


    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/title-footer/title-footer.js', async: true, callback: function() {
            title_footer.initialize("trey.io/nbpy2025", "rgba(0,255,0,0.0)");
          } }
        ]
      });
      if (window.self !== window.top) {
        document.body.className += " notes";
      }
    </script>
  </body>
</html>
